{"version":3,"sources":["Singleton.js","Context/actions.js","Context/reducer.js","Context/context.js","Components/main/Login.js","Components/about/Media.js","Components/about/About2.js","Components/about/About3.js","Components/about/About.js","Components/mailbox/Inbox.js","Components/forms/EditUserForm.js","Components/tables/ListTable.js","Components/tools/OpenModal.js","Components/util/Check.js","Components/util/Paginated.js","Components/util/Columns.js","Components/tools/OrderNo_check.js","Pages/PoForm.js","Components/forms/AddUserForm.js","Pages/PrForm.js","Pages/PageNotFound.js","PrivateRoute.js","Components/tools/useOutsideClick.js","Navbar.js","App.js","index.js"],"names":["Singleton","params","loc","indexOf","this","domainName","slice","window","location","href","Recursive","id","depts","name","up_dep","topParent","path","item","obj","find","v","loginUser","dispatch","loginPayload","a","password","type","axios","post","res","token","data","myToken","JSON","stringify","payload","logindata","userno","dep","IsLogin","loading","localStorage","setItem","console","log","response","errmsg","error","createUser","logOut","removeItem","getItem","parse","initialState","errorMessage","AuthReducer","action","user","Error","AuthStateContext","createContext","useAuthState","context","useContext","undefined","AuthDispatchContext","useAuthDispatch","AuthProvider","children","useReducer","state","Provider","value","Login","navigate","useNavigate","useState","show","setShow","setOn","newStyle","cardStyle","height","opacity","transition","cardStylea","email","formList","setFormList","handleInputChange","e","target","handleLogin","preventDefault","remail","rpassword","regformList","setregFormList","handleresInputChange","handleRegister","newregformList","to","className","style","onChange","placeholder","onClick","Media","Component","About","today","Date","toISOString","substring","queryLists","setQueryLists","useEffect","test","flowtest","map","dataLists","i","key","About2","About3","Inbox","props","useLocation","list","flow","flowData","setFlowData","firstName","setFirstName","clyn","datatime","text1","text2","text3","username","listno","price","smallp","get","then","resultTable","index","scope","evt","assing","url","singleton","fetch","headers","Accept","method","body","json","catch","defaultValue","readOnly","htmlFor","EditUserForm","currentItem","setUser","handleUpdate","updateUser","onKeyDown","Object","keys","ListTable","bodyColumn","listBody","length","data-id","data-low","editRow","deleteRow","colSpan","OpenModal","ref","useRef","current","contains","onClickOutside","handleClose","Checkbox","React","forwardRef","indeterminate","rest","defaultRef","resolvedRef","Paginated","columns","onRowSelectStateChange","onRowClickFunc","useTable","pageIndex","stateReducer","newState","selectedRowIds","usePagination","useRowSelect","hooks","visibleColumns","push","Header","getToggleAllRowsSelectedProps","Cell","row","getToggleRowSelectedProps","values","getTableProps","getTableBodyProps","headerGroups","page","nextPage","previousPage","canPreviousPage","canNextPage","pageOptions","gotoPage","pageCount","setPageSize","prepareRow","pageSize","headerGroup","getHeaderGroupProps","column","getHeaderProps","render","getRowProps","toggleRowSelected","cells","cell","getCellProps","disabled","pageNumber","Number","width","COLUMNS","accessor","OrderNo_check","AbortController","setSelectedRowIds","clickRowid","setClickRowid","modal","setModal","stopPropagation","fetchIdData","setListValue","title","category","setData","isMountedRef","getData","useCallback","users","resdata","newdata","filters","reduce","event","PoForm","initialFormState","userdep","userdate","checkno","newno","listHead","setListHead","setListBody","listValue","setCurrentItem","showModal","autoFocus","required","aria-label","aria-describedby","updatedUser","filter","job","createdAt","alert","AddUserForm","handleCreate","addUser","PrForm","editMode","setEditmode","maxid","header","header_detail","PageNotFound","PrivateRoute","component","useOutsideClick","callback","handleClick","document","addEventListener","removeEventListener","Navbar","handleLogout","history","pathname","App","element","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.684ac552.chunk.js","sourcesContent":["// 將函式轉為es2016類別;\nclass Getname {\n  constructor(params) {\n    let loc = params.indexOf(\":\", 6);\n    this.domainName = params.slice(0, loc) + \":8080/reirasys_api\";\n  }\n}\nconst Singleton = new Getname(window.location.href);\nexport default Singleton;\n\n\nexport function Recursive(id) {\n  const depts = [\n    { id: \"000001\", name: \"John\", up_dep: \"no\" },\n    { id: \"000101\", name: \"Romy\", up_dep: \"000001\" },\n    { id: \"000201\", name: \"Celia\", up_dep: \"000101\" },\n    { id: \"000301\", name: \"Mary\", up_dep: \"000101\" },\n    { id: \"001101\", name: \"John\", up_dep: \"000301\" },\n    { id: \"001101\", name: \"Akane\", up_dep: \"001101\" },\n    { id: \"221004\", name: \"Reira\", up_dep: \"000201\" },\n  ];\n  function topParent(id) {\n    let path,item = { id: id, name: \"\" };\n    let obj = depts.find((v) => {\n      item.name = v.name;\n      return v.id == id;\n    });\n    // console.log(obj);\n    if (obj.up_dep == \"no\") {\n      return [item];\n    } else {\n      path = topParent(obj.up_dep);\n    }\n    // console.log([item, ...path]);\n    return path && [item, ...path];\n  }\n  // let s = topParent(\"TP003\");\n\n  return topParent(id);\n}\n ","import Singconston from \"../Singleton\";\nimport axios from \"axios\";\n//真正去api取資料，再進行後續動作\n\nexport async function loginUser(dispatch, loginPayload) {\n  if (loginPayload.password !== 'cityslicka') {\n    loginPayload.password = \"\"\n  }\n\n  const ROOT_URL = `https://reqres.in/api/login`;\n  // 一般狀況，比對帳號密碼會在後端進行，前端向後端發送帳號密碼，後端在資料庫中比對此帳號密碼是否正確，回傳結果給前端。\n  // 在前端進行比對，是不安全的，因為明文密碼會在網路上傳輸，很容易被第三方竊取。\n  // 因fake api只驗證帳號，所以demo時，在前端比對，若不符則直接清空，才能讓try catch api show error msg\n\n  try {\n    dispatch({ type: \"REQUEST_LOGIN\" });\n    const res = await axios.post(`${ROOT_URL}`, loginPayload );\n    const { token } = res.data;\n    const myToken = JSON.stringify(token);\n    if (myToken) {\n      const logindata = { userno: \"000002\", dep: \"資訊技術部\", IsLogin: \"true\", loading: false, token: myToken }\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: logindata });\n      localStorage.setItem(\"currentUser\", JSON.stringify(logindata));\n      localStorage.setItem('token', myToken);\n      return logindata;\n    }\n\n  } catch (error) {\n    console.log(error.response.data)\n    const errmsg = error.response.data\n    dispatch({ type: \"LOGIN_ERROR\", error: errmsg.error });\n  }\n}\n\nexport async function createUser(dispatch, loginPayload) {\n  if (loginPayload.password !== 'cityslicka') {\n    loginPayload.password = \"\"\n  }\n  \n  const ROOT_URL = `https://reqres.in/api/register`;\n  try {\n    dispatch({ type: \"REQUEST_CREATE\" });\n    const res = await axios.post(`${ROOT_URL}`, loginPayload);\n    const data = res.data;\n    console.log(data)\n    // ==============================\n    if (data.id) {\n      const logindata = { userno: data.id, dep: \"行政管理處\", IsLogin: \"true\", loading: false }\n      dispatch({ type: \"CREATE_SUCCESS\", payload: logindata });\n      localStorage.setItem(\"currentUser\", JSON.stringify(logindata));\n      return logindata;\n    }\n\n    dispatch({ type: \"CREATE_ERROR\", error: data.error });\n    return;\n\n  } catch (error) {\n\n    console.log(error.response.data)\n    const errmsg = error.response.data\n    dispatch({ type: \"CREATE_ERROR\", error: errmsg.error });\n    // dispatch({ type: \"CREATE_ERROR\", error: error });\n  }\n\n}\n\nexport async function logOut(dispatch) {\n  dispatch({ type: \"LOGOUT\" });\n  localStorage.removeItem(\"currentUser\");\n  localStorage.removeItem(\"token\");\n}\n","// define inital state,and return new state\nlet userno = localStorage.getItem(\"currentUser\")\n  ? JSON.parse(localStorage.getItem(\"currentUser\")).userno\n  : \"\";\n\nlet dep = localStorage.getItem(\"currentUser\")\n  ? JSON.parse(localStorage.getItem(\"currentUser\")).dep\n  : \"\";\n\nlet IsLogin = localStorage.getItem(\"currentUser\")\n  ? JSON.parse(localStorage.getItem(\"currentUser\")).IsLogin\n  : \"\";\n\nexport const initialState = {\n  userno: \"\" || userno,\n  IsLogin: false || IsLogin,\n  loading: false,\n  errorMessage: null,\n  dep: \"\" || dep,\n};\n\nexport const AuthReducer = (initialState, action) => {\n  switch (action.type) {\n    case \"REQUEST_LOGIN\":\n      return {\n        ...initialState,\n        loading: true,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        ...initialState,\n        userno: action.payload.userno,\n        dep: action.payload.dep,\n        IsLogin: action.payload.IsLogin,\n        loading: false,\n        token: action.payload.token\n      };\n    case \"LOGOUT\":\n      return {\n        ...initialState,\n        user: \"\",\n        IsLogin: false,\n      };\n    case \"LOGIN_ERROR\":\n      return {\n        ...initialState,\n        loading: false,\n        errorMessage: action.error,\n      };\n    \n    \n    \n    case \"REQUEST_CREATE\":\n      return {\n        ...initialState,\n        loading: true,\n      };\n    case \"CREATE_SUCCESS\":\n      return {\n        ...initialState,\n        userno: action.payload.userno,\n        dep: action.payload.dep,\n        IsLogin: true,\n        loading: true,\n      };\n    case \"CREATE_ERROR\":\n      return {\n        ...initialState,\n        loading: false,\n        errorMessage: action.error,\n      };\n    \n    \n    \n    \n    default:\n      throw new Error(`Unhandled action type: ${action.type}`);\n  }\n};\n","import React, { createContext, useContext, useReducer } from \"react\";\nimport { initialState, AuthReducer } from './reducer';\n\n// Context: 1、createContext，建立global state\n//          2、useContext     讀取context  \n// 建立Provider 包住想傳遞的子元件\n\n// 1' useAuthState : 判斷登入狀態的Context{ errorMessage, IsLogin } \n// 2' useAuthDispatch: \n// const dispatch = useAuthDispatch();\n// fetch api user資料 await loginUser(dispatch, formList)\n// 3' AuthProvider;\n\n// 1 useAuthState:登入狀態的Context\n//   userno: \"\" || userno,\n//   IsLogin: false || IsLogin,\n//   loading: false,\n//   errorMessage: null,\nconst AuthStateContext = createContext();\nexport function useAuthState() {\n  const context = useContext(AuthStateContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useAuthState must be used within a AuthStateContext Provider\");\n  }\n  return context;\n}\n\n//2 useAuthDispatch:login/logout\n//  使用方式 const dispatch = useAuthDispatch();\n//   const handleLogout = async () => {\n//   let response = await logOut(dispatch);\nconst AuthDispatchContext = createContext();\nexport function useAuthDispatch() {\n  const context = useContext(AuthDispatchContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useAuthDispatch must be used within a AuthDispatchContext Provider\"\n    );\n  }\n\n  return context;\n}\n\n//private router\n//使用Context的方法是使用<名稱.Provider value={state值}>\n//把你想要允許可以讀取這個context的子元素階層包起來 \n// AuthProvider 父元素使用context:用 AuthStateContext\n\n//最外一層：規劃login true 才能使用各routes\n//最外第二層：login true，才能使用各個dispatch\n \nexport const AuthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, initialState);\n  return (\n    <AuthStateContext.Provider value={state}>\n      <AuthDispatchContext.Provider value={dispatch}>\n        {children}\n      </AuthDispatchContext.Provider>\n    </AuthStateContext.Provider>\n\n \n  );\n};\n","import React, { useState, Fragment } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\n//globe state\nimport { loginUser, createUser, useAuthState, useAuthDispatch } from \"../../Context\";\nimport axios from \"axios\";\n\nconst Login = () => {\n   // 使用 react-router-dom 的 Navigate 功能\n  const navigate = useNavigate();\n\n  // 取得全域狀態\n  const dispatch = useAuthDispatch();\n  const { errorMessage, IsLogin } = useAuthState();\n\n  const [show, setShow] = useState(false);\n  const setOn = () => {\n    setShow(!show);\n  };\n\n  // 定義視窗顯示狀態\n  const newStyle = show ? \"v_v\" : \"v_h\";\n  // 定義卡片樣式\n  const cardStyle = {\n    height: show ? 0 : \"250px\",\n    opacity: show ? 0 : 1,\n    transition: \"all .5s ease-in\"\n  };\n\n  const cardStylea = {\n    opacity: show ? 1 : 0,\n    height: show ? \"250px\" : 0,\n    transition: \"all .5s ease-in\",\n  };\n\n \n\n // 初始化登入表單資料\n  const formInitial = { email: \"eve.holt@reqres.in\", password: \"cityslicka\" };\n  const [formList, setFormList] = useState(formInitial);\n\n// 監聽登入表單輸入資料\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormList({ ...formList, [name]: value });\n  };\n\n  // 登入\n  const handleLogin = async (e) => {\n    console.log(\"handleLogin\");\n    e.preventDefault();\n    try {\n      const response = await loginUser(dispatch, formList);\n      console.log(response)\n\n\n      // getMe().then((response) => {\n      //   if (data.ok !== 1) {\n      //     // 在 getMe() 出錯代表還沒成功登入，因此要把 token 清空\n      //     setAuthToken(null);\n      //     setErrorMessage(response.toString());\n      //   }\n      //   setUser(response.data);\n      //   // 並導回首頁\n      //   history.push(\"/\");\n\n\n      if(response && response.token) navigate(\"/about\");\n\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n\n\n // 初始化註冊表單資料\n  const regformInitial = { remail: \"eve.holt@reqres.in\", rpassword: \"pistol\" };\n  const [regformList, setregFormList] = useState(regformInitial);\n  const handleresInputChange = (e) => {\n    const { name, value } = e.target;\n    setregFormList({ ...regformList, [name]: value });\n  };\n\n  const handleRegister = async (e) => {\n    console.log(\"handleRegister\");\n    e.preventDefault();\n    try {\n      const newregformList = { email: regformList.remail, password: regformList.rpassword };\n      const response = await createUser(dispatch, newregformList);\n      console.log(response)\n      if (response == undefined) return;\n      navigate(\"/prform\")\n    } catch (error) {\n      console.log(error);\n    }\n\n  };\n\n  return (\n\n    <>\n      {IsLogin ? (\n        <Navigate to=\"/PrForm\" />\n      ) : (\n        <div className=\"login_form\">\n          <Fragment>\n              <div className=\"form\">\n              <form\n                style={cardStylea}\n                className={\"flip-card register-form \" + newStyle}\n                id=\"myForm1\"\n              >\n                  <input\n                    type=\"text\"\n                    id=\"remail\"\n                    name=\"remail\"\n                    value={regformList.remail}\n                    onChange={handleresInputChange}\n                    placeholder=\"email\"\n                  />\n\n                  <input\n                    type=\"password\"\n                    id=\"rpassword\"\n                    name=\"rpassword\"\n                    value={regformList.rpassword}\n                    onChange={handleresInputChange}\n                    placeholder=\"password\"\n                  />\n\n\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary register_btn\"\n                  onClick={handleRegister}\n                >\n                  create\n                </button>\n\n                <p className=\"message\">\n                  Already registered?\n                  <a href=\"#\" onClick={setOn}>\n                    Sign In\n                  </a>\n                  </p>\n                  {errorMessage ? (\n                    <p className=\"alert alert-danger\">{errorMessage}</p>\n                  ) : null}\n              </form>\n\n                {/* LOGIN */}\n              <form style={cardStyle}>\n                  <input\n                    type=\"text\"\n                    id=\"email\"\n                    name=\"email\"\n                    placeholder=\"email\"\n                    value={formList.email}\n                    onChange={handleInputChange}\n                  />\n\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"password\"\n                    value={formList.password}\n                    onChange={handleInputChange}\n                  />\n\n                <button\n                  id=\"login_btn\"\n                  type=\"button\"\n                  className=\"btn btn-primary login_btn\"\n                  onClick={handleLogin}\n                >\n                  login\n                </button>\n\n                <p className=\"message\">\n                  Not registered?{\" \"}\n                  <a href=\"#\" onClick={setOn}>\n                    Create an account\n                  </a>\n                </p>\n\n\n                {errorMessage ? (\n                    <p className=\"alert alert-danger\">{errorMessage}</p>\n                ) : null}\n              </form>\n            </div>\n          </Fragment>\n        </div>\n      )}\n    </>\n  );\n};\n\n\nexport default Login;\n\n\n","import React, { Component } from 'react'\n\nclass Media extends Component {\n  render () {\n    return (\n      <div className=\"media-wrap  about_tab\" id=\"about1\">\n        <h1>TESTA</h1>\n      </div>\n    );\n  }\n}\n\nexport default Media\n","import React, { Component } from 'react'\n\nclass Media extends Component {\n  render () {\n    return (\n      <div className='media-wrap about_tab' id='about2'>\n        <h1>TESTB</h1>\n      </div>\n    )\n  }\n}\n\nexport default Media\n","import React, { Component } from 'react'\n\nclass Media extends Component {\n  render () {\n    return (\n      <div className='media-wrap  about_tab'  id='about3'>\n         <h1>TEST C</h1>\n        {/* src='https://www.youtube.com/embed/_ZmTR-F4mC0?rel=0&controls=0&showinfo=0' */}\n      </div>\n    )\n  }\n}\n\nexport default Media\n","import React, { useState,useEffect } from 'react'\nimport Media from './Media'\nimport About2 from './About2'\nimport About3 from './About3'\nimport Singleton, { Recursive } from \"../../Singleton\";\nimport axios from \"axios\";\nimport './about.css'\n\nconst About = () => {\n  const today = new Date().toISOString().substring(0, 10);\n  const [queryLists, setQueryLists] = useState([])\n  let userNo  ='090605'\n\n  useEffect(() => {\n    const test = Recursive(\"221004\")\n    console.log(test)\n    const flowtest = test.map(item => item.name) \n    setQueryLists(flowtest);\n    // axios\n    //   .get(\"https://reqres.in/api/users?page=1\")\n    //   .then((res) => {\n    //     const resdata = res.data.data;\n    //     const flow = resdata.map(item => item.first_name)\n    //     console.log(flow)\n    //     setQueryLists(flow);\n    //   })\n    //   .catch((error) => {\n    //     console.error(error);\n    //   });\n    \n  }, [userNo]);\n  \n  const dataLists = queryLists.map((item, i) => (\n    <div className=\"flowchart\" key={i}>\n      <div className=\"flow_no\">\n        {item}\n        <span className=\"flowspan\"></span>\n      </div>\n      <div className=\"flow_approval\">\n        <p>{today}</p>\n        <p>approve</p>\n      </div>\n    </div>\n  ));\n\n  return (\n    <section className=\"container contact\">\n      <h1>About</h1>\n      {/* <div className=\"page-2\" id=\"page-about\">\n        <div className=\"container\"> */}\n          <nav>\n            <a href=\"#about1\">PAGE1</a>\n            <a href=\"#about2\">PAGE2</a>\n            <a href=\"#about3\">PAGE3</a>\n          </nav>\n\n          <Media />\n          <About2 />\n          <About3 />\n\n          <div className=\"flow_container\">\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                start\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n            {dataLists}\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                over\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n          </div>\n\n\n        {/* </div>\n      </div> */}\n    </section>\n  );\n}\n\nexport default About\n","import React, { useState, useEffect } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport singleton from \"../../Singleton\";\nimport axios from \"axios\";\n\n// flow item list\nconst Inbox = (props) => {\n  let location = useLocation();\n  console.log(location)\n\n  // console.log(prop.location.state);\n  const assignData = { item: {}, list: [], flow: [] };\n  const [flowData, setFlowData] = useState(assignData);\n  const [firstName, setFirstName] = useState(\"\");\n  const today = new Date().toISOString().substring(0, 10);\n\n  useEffect(() => {\n    //approve flow\n    const flow = [\"010101\", \"120303\", \"090605\"];\n\n    const item = {\n      clyn: \"Y\",\n      datatime: \"2022-08-05 12:34:48\",\n      id: \"00563\",\n      name: \"Reira\",\n      text1: \"2022-08-10\",\n      text2: \"0000000253\",\n      text3: \"\",\n      username: \"123123\",\n    };\n\n    const list = [\n      {\n        datatime: \"2022-08-05 12:34:48\",\n        id: \"1\",\n        listno: \"00563\",\n        name: \"0000000253\",\n        price: \"s\",\n        smallp: \"kyino\",\n        username: \"鍵盤\",\n      },\n      {\n        datatime: \"2022-08-05 12:34:48\",\n        id: \"2\",\n        listno: \"00563\",\n        name: \"0000000253\",\n        price: \"大\",\n        smallp: \"tesco\",\n        username: \"滑鼠\",\n      },\n    ];\n\n    // if (prop.location.state !== null) {\n    axios\n      .get(`https://reqres.in/api/users/2`)\n      .then((res) => {\n        console.log(res.data.data);\n        const data = res.data.data;\n        console.log(data);\n        setFlowData({\n          ...flowData,\n          item: item,\n          list: list,\n          flow: flow\n        });\n\n      })\n  }, [props]);\n\n  // 單身\n  const resultTable = flowData.list.map((item, index) => {\n    return (\n      <tr key={index}>\n        <th scope=\"row\">{index}</th>\n        <td>{item.name}</td>\n        <td>{item.username}</td>\n        <td>{item.price}</td>\n      </tr>\n    );\n  });\n\n  //簽核流程array\n  const dataLists = flowData.flow.map((item, i) => (\n    <div className=\"flowchart\" key={i}>\n      <div className=\"flow_no\">\n        {item}\n        <span className=\"flowspan\"></span>\n      </div>\n      <div className=\"flow_approval\">\n        <p>{today}</p>\n        <p>approve</p>\n      </div>\n    </div>\n  ));\n\n  //簽核同意\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    var data = { assing: firstName, listno: location.state.listno };\n    console.log(JSON.stringify(data));\n\n    var url = singleton.domainName + \"/sys_flow_approve.php\";\n    fetch(url, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"POST\", // or 'PUT'\n      body: JSON.stringify(data), // data can be `string` or {object}!\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((error) => console.error(\"Error:\", error));\n  };\n\n  return (\n    <>\n      {/* {location.state === undefined || location.state === null ?\n        (\n      <section className=\"container contact\">\n          <h1>沒有資料</h1>\n        </section>\n      ) : (   */}\n      <section className=\"container contact\">\n        <h1>收件匣{flowData.item[\"id\"]}</h1>\n        <div className=\"sign\">\n          <div className=\"sign_menu\">\n            <li onClick={handleSubmit}>\n              {/* <a> <i className=\"fa-regular fa-thumbs-up\"></i></a> */}\n              {/* <a><i className=\"fa-regular fa-hand-point-right\"></i></a> */}\n              <a><i className=\"fa-solid fa-play\"></i></a>\n            </li>\n\n            <li>\n              {/* <a>Rejected</a> */}\n              {/* <a><i className=\"fa-solid fa-screwdriver-wrench\"></i></a> */}\n              <a><i className=\"fa-solid fa-ban\"></i></a>\n            </li>\n\n            <li>\n              <a><i className=\"fa-solid fa-pause\"></i></a>\n              {/* <a>overdue</a> */}\n            </li>\n          </div>\n\n          <div className=\"sign_option\">\n            <label className=\"user2\">\n              {/* <div className=\"cs\"><i className=\"fas fa-check\"></i></div> */}\n              <div className=\"cs\">單號</div>\n\n              <input\n                type=\"text\" placeholder=\"Subject\"\n                defaultValue={flowData.item[\"text2\"]}\n                name=\"userps\" id=\"userps\"\n                readOnly\n              />\n\n            </label>\n\n            <label className=\"user2\">\n              <div className=\"cs\"><span>簽核意見</span></div>\n              <input type=\"text\" name=\"firstName\" placeholder=\"簽核意見\"\n                onChange={(e) => {\n                  setFirstName(e.target.value);\n                  console.log(e.target.value);\n                }} />\n            </label>\n          </div>\n        </div>\n        <div className=\"flex_form\">\n          <div className=\"flex-large\">\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">員工姓名</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"name\"]}\n                  readOnly\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">員工部門</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"username\"]}\n                  readOnly\n                />\n              </div>\n            </div>\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">需用時間</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"text1\"]}\n                  readOnly\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">請購單號</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"text2\"]}\n                  readOnly\n                />\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n\n\n\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">-</th>\n              <th scope=\"col\">no</th>\n              <th scope=\"col\">描述</th>\n              <th scope=\"col\">尺寸</th>\n            </tr>\n          </thead>\n          <tbody>{resultTable}</tbody>\n        </table>\n\n        <div className=\"container\">\n          <h3>簽核流程</h3>\n          <div className=\"flow_container\">\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                start\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n            {dataLists}\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                over\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n\n\n      </section>\n      {/* )}   */}\n    </>\n  );\n};\n\nexport default Inbox;\n","import React, { useState, Fragment } from \"react\";\n\nconst EditUserForm = (props) => {\n  const [user, setUser] = useState(props.currentItem);\n//是否要比對有否更改？\n  \n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });  \n  };\n\n  //enter/button 都可新增資料\n  const onKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      handleUpdate();\n    }\n  }\n\n  const handleUpdate = () => {\n    props.updateUser(user.id, user);\n  };\n\n  return (\n    <div onKeyDown={onKeyDown}>\n      <h3>Editform</h3>\n      {Object.keys(props.currentItem).map((key) => {\n        if (!(key == \"id\" || key == \"datatime\"))\n          return (\n            <Fragment key={key}>\n              <label htmlFor={key}>{key}</label>\n              <input\n                type=\"text\"\n                name={key}\n                value={user[key]}\n                onChange={handleInputChange}\n              />\n            </Fragment>\n          );\n      })\n      }\n      <button className=\"btn\" onClick={handleUpdate}>\n        edit confirm\n      </button>\n    </div>\n  );\n};\n\nexport default EditUserForm;\n","import React from 'react';\n// 請購單身\nconst ListTable = (props) => {\n  const initialState = { id: null, name: \"\", username: \"\", smallp: \"\" };\n  // props.bodyColumn\n  return (\n    <table className=\"table table-striped table-responsive-m\">\n      <thead>\n        <tr>          \n          {Object.keys(props.bodyColumn).map((i) => (\n            i !== \"id\" && <th key={i}>{i}</th>\n          ))}\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.listBody.length > 0 ? (\n          props.listBody.map((user) => (\n            <tr key={user.id} data-id={user.id}>\n              <td>{user.name}</td>\n              <td>{user.username}</td>\n              <td>{user.smallp}</td>\n              <td>\n                <button\n                  className=\"btn btn-primary button_newitem\" data-low={(JSON.stringify(user))}\n                  onClick={() => props.editRow(user)}\n                >\n                  Edit\n                </button>\n\n                <button\n                  className=\"btn btn-danger\"\n                  onClick={() => props.deleteRow(user.id)}\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={5}>No users</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListTable;\n","import React, { useRef } from \"react\";\n\nconst OpenModal = (props) => {\n  let ref = useRef(null);\n\n  const handleClickOutsides = (e) => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      props.onClickOutside();\n    }\n  };\n\n  return (\n    <>\n      {props.show && <div className=\"modal-modal\" onClick={handleClickOutsides}>\n        <section className=\"flex-crud\" ref={ref}>\n          {props.children}\n          <button className=\"btn btn-danger button_close\" onClick={props.handleClose}>Close</button>\n        </section>\n      </div>\n      }\n\n    </>\n  );\n};\n\n/* notes:const showHideClassName = props.show\n ? \"modal-modal\"\n : \"modal-modal display-none\";\n用狀態控制 div是否show，不需用css\n不同思維\n*/\n\nexport default OpenModal;","import React from \"react\";\n\nexport const Checkbox = React.forwardRef(({ indeterminate, ...rest }, ref) => {\n    const defaultRef = React.useRef()\n    const resolvedRef = ref || defaultRef\n\n    React.useEffect(() => {\n      resolvedRef.current.indeterminate = indeterminate\n    }, [resolvedRef, indeterminate])\n    return (\n      <>\n        <input type=\"checkbox\" ref={resolvedRef} {...rest} />\n      </>\n    )\n  })","import React, { useMemo ,useEffect} from \"react\";\nimport { useTable, usePagination, useRowSelect } from \"react-table\";\nimport { Checkbox } from '../util/Check';\n\nimport \"./table.css\";\n//#a27e7e54\nexport const Paginated = ({\n  columns,\n  data,\n  onRowSelectStateChange,\n  onRowClickFunc\n}) => {\n  const {\n    // rows,\n    // selectedFlatRows,\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    page,\n    nextPage,\n    previousPage,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    state,\n    gotoPage,\n    pageCount,\n    setPageSize,\n    state: { selectedRowIds },\n    prepareRow\n  } = useTable(\n    {\n      columns,\n      data,\n      initialState: { pageIndex: 0 },\n       stateReducer: (newState, action) => {\n        // console.log(action.id);\n        if (action.type === \"toggleRowSelected\") {\n          newState.selectedRowIds = {\n            [action.id]: true\n          }\n        }\n        console.log(newState)\n        return newState;\n      }\n    },\n    usePagination,\n    useRowSelect,\n    hooks => {\n      hooks.visibleColumns.push((columns) => [\n        {\n          id: \"selection\",\n          Header: ({ getToggleAllRowsSelectedProps }) => (\n            <Checkbox {...getToggleAllRowsSelectedProps()} />\n          ),\n          Cell: ({ row }) => <><Checkbox {...row.getToggleRowSelectedProps()} {...row.values} /></>\n          //HERE : You pass your rows' values to your component\n        },\n        ...columns,\n      ]);\n    }\n  );\n\n  const { pageIndex, pageSize } = state;\n\n  useEffect(() => {\n    onRowSelectStateChange(selectedRowIds)\n  }, [onRowSelectStateChange, selectedRowIds]);\n\n\n  return (\n    <>\n      <table {...getTableProps()}>\n        <thead>\n          {headerGroups.map((headerGroup) => (\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => (\n                <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {page.map((row) => {\n            prepareRow(row);\n            return (\n              // <tr {...row.getRowProps()}>\n              //   {row.cells.map((cell) => {\n              //     return (\n              //       <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\n              //     );\n              //   })}\n              // </tr>\n              <tr\n                {...row.getRowProps()}\n                className=\"odd:bg-white even:bg-gray-100\"\n                onClick={() => row.toggleRowSelected()}\n              >\n                {row.cells.map(cell => {\n                  return <td onClick={() => onRowClickFunc(row, cell)} {...cell.getCellProps()}>\n                    {cell.render('Cell')}</td>\n                })}\n              </tr>\n\n            );\n          })}\n        </tbody>\n      </table>\n      <div>\n        <button onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\n          {\"<<\"}\n        </button>{\" \"}\n        <button onClick={() => previousPage()} disabled={!canPreviousPage}>\n          Previous\n        </button>{\" \"}\n        <button onClick={() => nextPage()} disabled={!canNextPage}>\n          Next\n        </button>{\" \"}\n        <button onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\n          {\">>\"}\n        </button>{\" \"}\n        <span>\n          Page{\" \"}\n          <strong>\n            {pageIndex + 1} of {pageOptions.length}\n          </strong>{\" \"}\n        </span>\n        <span>\n          | Go to page:{\" \"}\n          <input\n            type=\"number\"\n            defaultValue={pageIndex + 1}\n            onChange={(e) => {\n              const pageNumber = e.target.value\n                ? Number(e.target.value) - 1\n                : 0;\n              gotoPage(pageNumber);\n            }}\n            style={{ width: \"50px\" }}\n          />\n        </span>{\" \"}\n        <select\n          value={pageSize}\n          onChange={(e) => setPageSize(Number(e.target.value))}\n        >\n          {[10, 25, 50].map((pageSize) => (\n            <option key={pageSize} value={pageSize}>\n              Show {pageSize}\n            </option>\n          ))}\n        </select>\n      </div>\n    </>\n  );\n};\n","// import { format } from \"date-fns\";\nexport const COLUMNS = [\n    {\n      Header: 'Name',\n      columns: [\n        {\n          Header: 'First Name1',\n          // accessor: 'first_name',\n          // accessor: 'name.firstname',\n          accessor: 'title',\n        },\n        {\n          Header: 'Last Name',\n          // accessor: 'last_name',\n          // accessor: 'name.lastname',\n          accessor: 'category',\n        },\n        // {\n        //   Header: 'title',\n        //   accessor: 'title',\n        // },\n        // {\n        //   Header: 'price',\n        //   accessor: 'price',\n        // },\n      ],\n    },\n    {\n      Header: 'Info',\n      columns: [\n        {\n          Header: 'id',\n          accessor: 'id',\n        }\n      ],\n    },\n  ]\n   \n\n// export const COLUMNS = [\n//   {\n//     Header: \"Id\",\n//     Footer: \"Id\",\n//     accessor: \"id\",\n//     disableFilters: true,\n//     sticky: \"left\"\n//   },\n//   {\n//     Header: \"First Name\",\n//     Footer: \"First Name\",\n//     accessor: \"first_name\",\n//     sticky: \"left\"\n//   },\n//   {\n//     Header: \"Last Name\",\n//     Footer: \"Last Name\",\n//     accessor: \"last_name\",\n//     sticky: \"left\"\n//   },\n//   {\n//     Header: \"Date of Birth\",\n//     Footer: \"Date of Birth\",\n//     accessor: \"date_of_birth\",\n//     // Cell: ({ value }) => {\n//     //   return format(new Date(value), \"dd/MM/yyyy\");\n//     // }\n//   },\n//   {\n//     Header: \"Country\",\n//     Footer: \"Country\",\n//     accessor: \"country\"\n//   },\n//   {\n//     Header: \"Phone\",\n//     Footer: \"Phone\",\n//     accessor: \"phone\"\n//   },\n//   {\n//     Header: \"Email\",\n//     Footer: \"Email\",\n//     accessor: \"email\"\n//   },\n//   {\n//     Header: \"Age\",\n//     Footer: \"Age\",\n//     accessor: \"age\"\n//   }\n// ];\n\n// export const GROUPED_COLUMNS = [\n//   {\n//     Header: \"Id\",\n//     Footer: \"Id\",\n//     accessor: \"id\"\n//   },\n//   {\n//     Header: \"Name\",\n//     Footer: \"Name\",\n//     columns: [\n//       {\n//         Header: \"First Name\",\n//         Footer: \"First Name\",\n//         accessor: \"first_name\"\n//       },\n//       {\n//         Header: \"Last Name\",\n//         Footer: \"Last Name\",\n//         accessor: \"last_name\"\n//       }\n//     ]\n//   },\n//   {\n//     Header: \"Info\",\n//     Footer: \"Info\",\n//     columns: [\n//       {\n//         Header: \"Date of Birth\",\n//         Footer: \"Date of Birth\",\n//         accessor: \"date_of_birth\"\n//       },\n//       {\n//         Header: \"Country\",\n//         Footer: \"Country\",\n//         accessor: \"country\"\n//       },\n//       {\n//         Header: \"Phone\",\n//         Footer: \"Phone\",\n//         accessor: \"phone\"\n//       }\n//     ]\n//   }\n// ];","import React, { useState, useEffect, useCallback    } from \"react\";\nimport axios from \"axios\";\nimport { Paginated } from \"../util/Paginated\";\nimport { COLUMNS } from '../util/Columns';\n\n//點選row時，傳回給母畫面\nfunction OrderNo_check(props) {\n\n  let controller = new AbortController();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [selectedRowIds, setSelectedRowIds] = useState({});\n  //點選的row id\n  const [clickRowid, setClickRowid] = useState(null);\n\n  // close/open modal\n  const [modal, setModal] = useState(false);\n  const setOn = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setModal(!modal);\n  };\n\n  //點選row，得到id，更新明細資料\n  const checkRow = (row) => {\n    console.log(row.values.id)\n    setClickRowid(row.values.id)\n  };\n\n  const fetchIdData =  async() => {\n    const { data } = await axios.get(`https://fakestoreapi.com/products/${clickRowid}`);\n    props.setListValue([{\n      id: data.id,\n      name: data.title,\n      username: data.category,\n      smallp: 's'\n    }])\n\n   //更新請購單號\n    setSelectedRowIds(clickRowid);\n    setModal(!modal);\n  }\n\n  //default table 資料來源\n  const [data, setData] = useState([]);\n\n\n  const isMountedRef = React.useRef(false)\n  useEffect(() => {\n    isMountedRef.current = true\n    return () => {\n      isMountedRef.current = false\n    }\n  }, [])\n\n\n  const getData = useCallback(async () => {\n    // setIsLoading(true);\n    const users = await axios.get(`https://fakestoreapi.com/products`);\n    const resdata = users.data;\n    let newdata = [];\n    for (var i = 0; i < resdata.length; i++) {\n      var filters = Object.keys(resdata[i])\n        .reduce((obj, key) => {\n          obj[key] = resdata[i][key];\n          return obj;\n        }, {});\n      newdata.push(filters)\n    }\n    console.log(newdata)\n    setData(newdata)\n    }, []);\n\n//EROOR1，clickRowid 以為要render畫面，用useEffect dev，其實用prop state 也可以\n  useEffect(() => {\n    // let isMounted = true;\n    getData();\n    // return () => {\n    //   isMounted = false;\n    // };\n    // return () => controller && controller.abort();\n  }, [getData]);\n\n  useEffect(() => {\n    let isMounted = true;\n    if (clickRowid) {\n      fetchIdData();\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [clickRowid]);\n\n\n  // useEffect(() => {\n  //   const controller = new AbortController()\n  //   // const signal = controller.signal\n\n  //   // const fetchIdData = async () => {\n  //   //   const { data } = await axios.get(`https://fakestoreapi.com/products/${clickRowid}`,\n  //   //     { signal: signal }\n  //   //   )\n  //   //   props.setListValue([{\n  //   //     id: data.id,\n  //   //     name: data.title,\n  //   //     username: data.category,\n  //   //     smallp: 's'\n  //   //   }])\n  //   //   //更新請購單號\n  //   //   setSelectedRowIds(clickRowid);\n  //   //   setModal(!modal);\n  //   // }\n\n  //   fetchIdData()\n\n  //   return () => {\n  //     controller.abort()\n  //   }\n  // }, [])\n\n\n\n  return (\n    <>\n      <button className=\"btn btn-primary button_newitem\" onClick={setOn}>\n      ...\n      </button>\n\n      {modal &&\n        <div className=\"modal-modal\" onClick={setOn}>\n          <div className=\"popup_inner\"\n            onClick={(event) => event.stopPropagation()}\n          >\n            <div className=\"orderno\">\n              {data && <Paginated\n                data={data}\n                columns={COLUMNS}\n                onRowSelectStateChange={setSelectedRowIds}\n                onRowClickFunc={checkRow}\n              />\n              }\n            </div>\n            <button className=\"btn btn-light\" onClick={setOn}>\n              close\n            </button>\n            <button className=\"btn btn-primary\" onClick={fetchIdData}>\n              確定\n            </button>\n          </div>\n        </div>\n      }\n    </>\n\n  );\n}\n\nexport default OrderNo_check;\n\n\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuthState } from \"../Context\";\nimport EditUserForm from \"../Components/forms/EditUserForm\";\nimport ListTable from \"../Components/tables/ListTable\";\nimport OpenModal from \"../Components/tools/OpenModal\";\nimport OrderNo_check from \"../Components/tools/OrderNo_check\";\n\n// import ChildComponent from \"./ChildComponent\";\nimport singleton, { Recursive } from \"../Singleton\";\nimport axios from \"axios\";\n\n// 無法新增資料，依請購單進行採購\n// confirm dialog\n//https://www.taniarascia.com/crud-app-in-react-with-hooks/\n\n//button in form fetch data\n\nconst PoForm = () => {\n  const test = Recursive(\"221004\")\n  let navigate = useNavigate();\n  // global state:userno\n  const { userno, dep } = useAuthState();\n  const today = new Date().toISOString().substring(0, 10);\n  const initialFormState = {\n    username: userno || '',\n    userdep: dep || '',\n    userdate: today || '',\n    checkno: \"no\" || '',\n    newno: \"newno\" || '',\n  };\n\n  //表頭資料\n  const [listHead, setListHead] = useState(initialFormState);\n\n  //表身資料\n  const bodyColumn = { id: null, name: \"\", username: \"\", smallp: \"\" };\n  const [listBody, setListBody] = useState([]);\n  const [listValue, setListValue] = useState(\"\");\n\n  //操作 : editRow / deleteRow    \n  const [currentItem, setCurrentItem] = useState({});\n  //open modal \n  const [show, setShow] = useState(false);\n\n\n \n\n  const showModal = () => {\n    setShow(!show);\n  };\n\n\n  //dynamic form: 綁定的state值對應到每個組件的name屬性，所以可以直接抓組件name的屬性來更改state中的資料，\n  // 至於加上中括號是為了讓JavaScript知道那是變數，而不會把它當成changeName來處理\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setListHead({ ...listHead, [name]: value });\n  };\n\n  // const handleListData = (data) => {\n  //   //把OrderNo_CHeck return的值data，更新FakeData\n  //   setFakeData(data);\n  // };\n\n  // child component\n  // const handleData = (data) => {\n  //   setData(data);\n  // };\n  const updateUser = (id, updatedUser) => {\n    console.log(id)\n    console.log(updatedUser)\n    setListBody(listBody.map((item) => (item.id === id ? updatedUser : item)));\n    showModal();\n  };\n\n\n  const editRow = (item) => {\n    setShow(true);\n    setCurrentItem({\n      id: item.id,\n      name: item.name,\n      username: item.username,\n      smallp: item.smallp\n    });\n  };\n\n  const deleteRow = (id) => {\n    setListHead({ ...listHead, checkno: '' });\n    setListBody(listBody.filter((item) => item.id !== id));\n  };\n\n  // ---------------------\n  useEffect(() => {\n    console.log(listValue)\n    //return 請購單號\n    if (!listValue) return;\n    console.log(listValue[0])\n\n    setListHead({ ...listHead, checkno: listValue[0].id });\n    setListBody(listValue);\n\n    // return () => {\n    //   setListBody([]);\n    // };\n  }, [listValue]);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!listBody.length) {\n      alert(\"請選單\");\n      return;\n    }\n\n    const data = {\n      name: \"morpheus\",\n      job: \"leader\",\n    };\n\n    fetch(\"https://reqres.in/api/listBody\", {\n      method: \"POST\", // or 'PUT'\n      body: JSON.stringify(data), // data can be `string` or {object}!\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        // console.log(\"Success:\", JSON.stringify(response));\n        console.log(response);\n        if (response.createdAt) {\n          alert(\"post成功\");\n\n          // setFormType(\"sucess\");\n          // 送出成功後，轉到Inbox\n          //傳遞parat\n          navigate('/Inbox', { state: { id: \"090605\", listno: \"00004\" } })\n        }\n      })\n      .catch((error) => console.error(\"Error:\", error));\n\n  };\n\n  return (\n    <section className=\"container contact\">\n      <h1>採購單</h1>\n      <div className=\"flex_form\">\n        {/* <form id=\"myForm\"> */}\n        <div id=\"myForm\">\n          <div className=\"flex-large\">\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">員工姓名</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"inputUsername\"\n                  name=\"username\"\n                  value={listHead.username || ''}\n                  onChange={handleInputChange}\n                  placeholder=\"員工姓名\"\n                  autoFocus={true}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUserdep\">員工部門</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"inputUserdep\"\n                  name=\"userdep\"\n                  value={listHead.userdep || ''}\n                  onChange={handleInputChange}\n                  placeholder=\"員工部門\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsertime\">需用時間</label>\n                <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  id=\"inputUsertime\"\n                  name=\"userdate\"\n                  value={listHead.userdate || ''}\n                  onChange={handleInputChange}\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"selectListno\">請購單號</label>\n                <div className=\"input-group \">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"selectListno\"\n                    aria-label=\"Large\"\n                    aria-describedby=\"inputGroup-sizing-sm\"\n                    placeholder=\"請購單號\"\n                    name=\"checkno\"\n                    value={listHead.checkno || ''}\n                    onChange={handleInputChange}\n                    readOnly\n                  />\n\n                </div>\n\n              </div>\n\n              <div>\n                <OrderNo_check\n                  setListValue={setListValue}\n                  // onlistData={handleListData}\n                />\n                <p>OrderNo_check from child component:</p>\n                {/* <p>{JSON.stringify(fakedata)}</p> */}\n              </div>\n            </div>\n          </div>\n\n        </div>\n        {/* </form> */}\n        {/* <div>\n          <OrderNo_check\n            setListValue={setListValue}\n            onlistData={handleListData}\n          />\n          <p>OrderNo_check from child component:</p>\n          <p>{JSON.stringify(fakedata)}</p>\n        </div> */}\n\n        <div className=\"flex-list\">\n          <OpenModal\n            show={show}\n            handleClose={showModal}\n            onClickOutside={showModal}\n          >\n            {\n              <EditUserForm\n                currentItem={currentItem}\n                updateUser={updateUser}\n                setShow={setShow}\n              />\n            }\n          </OpenModal>\n\n          <ListTable\n            listBody={listBody}\n            editRow={editRow}\n            deleteRow={deleteRow}\n            bodyColumn={bodyColumn}\n          />\n        </div>\n\n        <button className=\"btn btn-warning button_submit\" onClick={handleSubmit}>\n          submit\n        </button>\n\n      </div>\n\n      {/* <div>\n        <ChildComponent onData={handleData} />\n        <p>Data from child component:</p>\n        <p>{JSON.stringify(data)}</p>\n      </div> */}\n    </section>\n  );\n};\n\nexport default PoForm;\n","import React, { useState, Fragment } from \"react\";\n// https://itnext.io/how-to-build-a-dynamic-controlled-form-with-react-hooks-2019-b39840f75c4f\nconst AddUserForm = (props) => {\n  //定義新增資料的欄位\n  //dynamic 表單 定義欄位\n  const [user, setUser] = useState(props.bodyColumn);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  //enter/button 都可新增資料\n  const onKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      console.log(\"ENTER PRESSED\");\n      handleCreate();\n    }\n  }\n\n  //新增資料\n  const handleCreate = () => {\n    if (!user.name || !user.username) {\n      console.log(\"please enter name/username value \")\n      return;\n    }\n    props.addUser(user);\n    // setUser(initialState);\n    setUser(props.bodyColumn);\n  };\n\n  return (\n    <div onKeyDown={onKeyDown}>\n      <h3>ADD form</h3>\n      {Object.keys(user).map((key) => {\n        if (!(key == \"id\"))\n          return (\n            <Fragment key={key}>\n              <label htmlFor={key}>{key}</label>\n              <input\n                type=\"text\"\n                name={key}\n                value={user[key]}\n                onChange={handleInputChange}\n              />\n            </Fragment>\n          );\n      })\n      }\n\n      <button className=\"btn btn-primary button_newitem\" onClick={handleCreate}>\n        Add new user\n      </button>\n    </div>\n  );\n};\n\nexport default AddUserForm;\n","import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuthState } from \"../Context\";\nimport AddUserForm from \"../Components/forms/AddUserForm\";\nimport EditUserForm from \"../Components/forms/EditUserForm\";\nimport ListTable from \"../Components/tables/ListTable\";\nimport OpenModal from \"../Components/tools/OpenModal\";\nimport Dept from \"../Components/tools/dept.json\";\n\n\nimport singleton from \"../Singleton\";\nimport axios from \"axios\";\n// confirm dialog\n// https://www.taniarascia.com/crud-app-in-react-with-hook //\n\nconst PrForm = () => {\n  let navigate = useNavigate();\n  // global state:userno\n  const { userno, dep } = useAuthState();\n  const today = new Date().toISOString().substring(0, 10);\n\n  //表頭資料\n  const initialFormState = { username: userno, userdep: dep, userdate: today };\n  const [listHead, setListHead] = useState(initialFormState);\n\n  //delete update create\n  //表身資料\n  const bodyColumn = { id: null, name: \"\", username: \"\", smallp: \"\" };\n  const [listBody, setListBody] = useState([]);\n\n  //操作 : editRow / deleteRow  \n  const [currentItem, setCurrentItem] = useState([]);\n\n  //close/open modal \n  const [show, setShow] = useState(false);\n  //判斷open form 是add /edit\n  const [editMode, setEditmode] = useState(false);\n\n  // const handleModal = () => {\n  //   setShow(!show);\n  // }\n\n  //+請購項目\n  const showModal = () => {\n    setShow(!show); \n    setEditmode(false)\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setListHead({ ...listHead, [name]: value });\n  };\n\n  //CRUD  \n  //create\n  const addUser = (item) => {\n    if (listBody.length == 0) {\n      item.id = listBody.length + 1;\n    } else {\n      let maxid = listBody.slice(-1)[0].id;\n      item.id = maxid + 1;\n    }\n    setListBody([...listBody, item]);\n  };\n\n  //update data close modal\n  const updateUser = (id, user) => {\n    setEditmode(true)\n    setListBody(listBody.map((item) => (item.id === id ? user : item)));\n    setShow(false);\n  };\n\n  //操作ChildComponent: ListTable : editRow  \n  const editRow = (item) => {\n    setShow(true);\n    setEditmode(true);\n    setCurrentItem({\n      id: item.id,\n      name: item.name,\n      username: item.username,\n      smallp: item.smallp\n    });\n  };\n\n  //操作ChildComponent: ListTable : deleteRow  \n  const deleteRow = (id) => {\n    setListBody(listBody.filter((item) => item.id !== id));\n  };\n\n\n\n  async function makeGetRequest() {\n    let payload = {\n      heads: listHead,\n      bodys: listBody,\n    };\n\n    console.log(payload);\n    //********* create *********\n    // axios\n    //   .post(\"/customer\", payload)\n    //   .then((res) => {\n    //     console.table(res.data);\n    //   })\n    //   .catch((error) => {\n    //     console.error(error);\n    //   });\n    // ********* DELETE *********\n    // let delno = \"19\";\n    // axios.delete(`/customers/${delno}`).then((res) => console.log(res.data));\n  }\n\n  //  submit form \n  const handleSubmit = (e) => {\n    e.preventDefault();\n \n    if (!listBody.length) {\n      alert(\"請選單\");\n      return;\n    }\n    console.log(JSON.stringify(listHead));\n    let data = {\n      header: listHead,\n      header_detail: listBody,\n    };\n    console.log(JSON.stringify(data));\n\n    axios.post(\"https://reqres.in/api/listBody\", data)\n      .then((res) => {\n        const ressponse = res.data;\n        if (ressponse.createdAt) {\n          alert(\"SUCCESS\")\n          navigate('/poform')\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  return (\n    <section className=\"container contact\">\n      <h1>PR請購單</h1>\n      <div className=\"flex_form\">\n        <form id=\"myForm\">\n          <div className=\"flex-large\">\n            <div className=\"form-row\">\n              {Object.keys(initialFormState).map((key) => {\n                // if (!(key == \"userdate\")) {\n                return (\n                  <div className=\"form-group col-md-6\" key={key}>\n                    <label htmlFor={key}>{key}</label>\n                    <input\n                      type={key !== 'userdate' ? \"text\" : \"date\"}\n                      className=\"form-control\"\n                      id={key}\n                      name={key}\n                      value={listHead[key]}\n                      onChange={handleInputChange}\n                    />\n                  </div>\n                );\n              })\n              }\n            </div>\n          </div>\n        </form>\n\n\n        <div className=\"flex-list\">\n          <OpenModal\n            show={show}\n            handleClose={showModal}\n            onClickOutside={showModal}\n          >\n            {!editMode\n              ? (<AddUserForm\n                addUser={addUser}\n                bodyColumn={bodyColumn}\n              />)\n              : (\n                <EditUserForm\n                  currentItem={currentItem}\n                  updateUser={updateUser}\n                />\n              )}\n          </OpenModal>\n          <button className=\"btn btn-primary button_newitem\" type=\"button\" onClick={showModal}>\n            +請購項目\n          </button>\n\n          <ListTable\n            listBody={listBody}\n            editRow={editRow}\n            deleteRow={deleteRow}\n            bodyColumn={bodyColumn}\n          />\n        </div>\n\n\n        <button className=\"btn btn-warning button_submit\" onClick={handleSubmit}>\n          submit\n        </button>\n      </div>\n    </section>\n  );\n\n};\n\nexport default PrForm;\n","import React from \"react\";\n\nconst PageNotFound = () =>{\n  return (\n    <section className=\"container contact\">\n      <h1>Page not found</h1>\n    </section>\n  );\n}\n\nexport default PageNotFound;\n","import React from \"react\";\n// import { Route, Redirect } from \"react-router-dom\";\nimport { Route, Navigate, Outlet } from \"react-router-dom\";\nimport { useAuthState } from \"./Context\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  // const barearToken = localStorage.getItem(\"token\");\n  const userDetails = useAuthState();\n  // console.log(userDetails.IsLogin);\n  // console.log({ ...rest });\n  return userDetails.IsLogin ? <Outlet /> : <Navigate to=\"/login\" />\n};\n\nexport default PrivateRoute;\n","import { useEffect } from \"react\";\n\nconst useOutsideClick = (ref, callback) => {\n  const handleClick = e => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    //註冊原生事件，return function裡面取消註冊事件。\n    document.addEventListener(\"click\", handleClick);\n\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  });\n};\n\nexport default useOutsideClick;","import React, { useState, useEffect, useRef }  from \"react\";\nimport { NavLink,  useLocation } from \"react-router-dom\";\nimport { logOut, useAuthDispatch } from \"./Context\";\nimport useOutsideClick from \"./Components/tools/useOutsideClick\";\n\nconst Navbar = (props) => {\n  const [show, setShow] = useState(false);\n  const ref = useRef();\n\n  const handleClickOutsides = (event) => {\n    setShow(!show);\n    console.log(ref.current)\n    if (ref.current && !ref.current.contains(event.target)) {\n      setShow(false);\n    }\n  };\n\n  useOutsideClick(ref, () => {\n    setShow(false);\n  });\n\n\n  const location = useLocation();\n  // console.log(location.pathname);\n  // logout\n  const dispatch = useAuthDispatch();\n  const newStyle = show ? \"active\" : \"\";\n\n  const handleLogout = async () => {\n    try {\n      let response = await logOut(dispatch);\n      console.log(response);\n      props.history.push(\"/login\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return location.pathname !== \"/login\" ? (\n    <header>\n      <ul className=\"mobile-navlink\" >\n        <div className={\"menu \" + newStyle}\n          onClick={handleClickOutsides} ref={ref}\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </ul>\n\n      <nav className={\"main-menu \" + newStyle}>\n        <ul>\n        <li>\n          <NavLink to=\"/prform\">PrForm</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/poform\">PoForm</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/about\">About</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/inbox\">Inbox</NavLink>\n          </li>\n        \n\n\n          \n        <li>\n          <NavLink to=\"/about\">Outbox</NavLink>\n        </li>\n\n          <li>\n           \n            <a onClick={handleLogout}> <i className=\"fa-solid fa-arrow-right-from-bracket\"></i></a>\n           \n      \n        </li>\n      </ul>\n      </nav>\n    </header>\n  ) : null;\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { Routes, Route, BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style/index.scss';\nimport Login from './Components/main/Login';\nimport About from './Components/about/About';\nimport Inbox from './Components/mailbox/Inbox';\nimport PoForm from './Pages/PoForm';\nimport PrForm from './Pages/PrForm';\nimport PageNotFound from './Pages/PageNotFound';\nimport PrivateRoute from './PrivateRoute';\nimport { AuthProvider } from './Context';\nimport Navbar from './Navbar';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"page\">\n        {/* <BrowserRouter basename=\"Mysystem\"> */}\n        <BrowserRouter>\n          <AuthProvider>\n            <Navbar />\n            <Routes>  \n              <Route/>\n                <Route path=\"/login\" element={<Login />} />\n                <Route path='/' element={<PrivateRoute />}> \n                <Route path=\"/prform\" element={<PrForm />} />\n                <Route path=\"/poform\" element={<PoForm />} /> \n                <Route path=\"/about\" element={<About />} />\n                <Route path=\"/inbox\" element={<Inbox />} />\n                <Route path=\"*\" element={<PageNotFound />} />\n              </Route>\n            </Routes>\n          </AuthProvider>\n        </BrowserRouter> \n      </div>\n    </div>\n  );\n};\n\nexport default App;\n\n//login should not be autoprovider\n\n// Switch：用來包Route與Redirect，\n// 只會render第一個與網址匹配的<Route>的component","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App' \n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}