{"version":3,"sources":["Singleton.js","Context/actions.js","Context/reducer.js","Context/context.js","Components/main/Login.js","Components/about/Media.js","Components/about/About2.js","Components/about/About3.js","Components/about/About.js","Components/mailbox/Inbox.js","Components/forms/EditUserForm.js","Components/tables/ListTable.js","Components/tools/OpenModal.js","Components/tools/OrderNo_check.js","Components/PoForm.js","Components/forms/AddUserForms.js","Components/PrForm.js","PrivateRoute.js","Components/tools/useOutsideClick.js","Navbar.js","Components/PageNotFound.js","App.js","index.js"],"names":["Singleton","params","loc","indexOf","this","domainName","slice","window","location","href","Recursive","id","depts","name","up_dep","topParent","path","item","obj","find","v","loginUser","dispatch","loginPayload","a","console","log","type","requestOptions","method","headers","body","JSON","stringify","fetch","response","json","data","token","payload","logindata","userno","dep","IsLogin","loading","localStorage","setItem","error","createUser","logOut","removeItem","getItem","parse","initialState","errorMessage","AuthReducer","action","user","Error","AuthStateContext","createContext","useAuthState","context","useContext","undefined","AuthDispatchContext","useAuthDispatch","AuthProvider","children","useReducer","state","Provider","value","Login","navigate","useNavigate","useState","show","setShow","setOn","newStyle","cardStyle","height","opacity","transition","cardStylea","initalMsg","email","password","formList","setFormList","handleInputChange","e","target","handleLogin","preventDefault","remail","rpassword","regformList","setregFormList","handleresInputChange","handleRegister","newregformList","to","className","style","onChange","placeholder","onClick","Media","Component","About","today","Date","toISOString","substring","queryLists","setQueryLists","useEffect","test","flowtest","map","dataLists","i","key","About2","About3","Inbox","props","useLocation","list","flow","flowData","setFlowData","firstName","setFirstName","clyn","datatime","text1","text2","text3","username","listno","price","smallp","axios","get","then","res","resultTable","index","scope","evt","assing","url","singleton","Accept","catch","defaultValue","readOnly","htmlFor","EditUserForm","currentUser","setUser","event","updateUser","ListTable","users","length","editRow","isOpen","deleteUser","colSpan","OpenModal","ref","useRef","showHideClassName","current","contains","onClickOutside","handleClose","IndeterminateCheckbox","React","forwardRef","indeterminate","rest","defaultRef","resolvedRef","Table","columns","onRowSelectStateChange","onRowClickFunc","useTable","selectedRowIds","stateReducer","newState","useRowSelect","hooks","visibleColumns","push","Header","getToggleAllRowsSelectedProps","Cell","row","getToggleRowSelectedProps","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","selectedFlatRows","original","all","headerGroup","getHeaderGroupProps","column","getHeaderProps","render","getRowProps","cells","cell","getCellProps","OrderNo_check","checked","setChecked","setSelectedRowIds","modal","setModal","useMemo","accessor","stopPropagation","clickRowid","setClickRowid","setData","getData","resdata","search","newdata","filters","Object","keys","filter","includes","reduce","values","PoForm","SetShow","initialFormHeadState","userdep","userdate","checkno","listHead","setListHead","checkNo","setCheckNo","openBox","setOpenBox","handOpen","setUsers","setCurrentUser","editing","setEditing","newstr","data1","fils","first_name","last_name","avatar","setFormType","redirect","pathname","onSubmit","job","createdAt","alert","autoFocus","required","aria-label","aria-describedby","updatedUser","AddUserForm","initialFormState","formDataCopy","document","addEventListener","addNew","addUser","ary","PrForm","formNames","setFormNames","showModa","maxid","header","header_detail","post","ressponse","PrivateRoute","component","useOutsideClick","callback","handleClick","removeEventListener","Navbar","handleLogout","history","PageNotFound","App","basename","element","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.8b3f9359.chunk.js","sourcesContent":["// 將函式轉為es2016類別;\nclass Getname {\n  constructor(params) {\n    let loc = params.indexOf(\":\", 6);\n    this.domainName = params.slice(0, loc) + \":8080/reirasys_api\";\n  }\n}\nconst Singleton = new Getname(window.location.href);\nexport default Singleton;\n\n\nexport function Recursive(id) {\n  const depts = [\n    { id: \"000001\", name: \"John\", up_dep: \"no\" },\n    { id: \"000101\", name: \"Romy\", up_dep: \"000001\" },\n    { id: \"000201\", name: \"Celia\", up_dep: \"000101\" },\n    { id: \"000301\", name: \"Mary\", up_dep: \"000101\" },\n    { id: \"001101\", name: \"John\", up_dep: \"000301\" },\n    { id: \"001101\", name: \"Akane\", up_dep: \"001101\" },\n    { id: \"221004\", name: \"Reira\", up_dep: \"000201\" },\n  ];\n  function topParent(id) {\n    let path,item = { id: id, name: \"\" };\n    let obj = depts.find((v) => {\n      item.name = v.name;\n      return v.id == id;\n    });\n    // console.log(obj);\n    if (obj.up_dep == \"no\") {\n      return [item];\n    } else {\n      path = topParent(obj.up_dep);\n    }\n    // console.log([item, ...path]);\n    return path && [item, ...path];\n  }\n  // let s = topParent(\"TP003\");\n\n  return topParent(id);\n}\n ","import Singleton from \"../Singleton\";\nimport axios from \"axios\";\n//真正去api取資料，再進行後續動作\n\n\nexport async function loginUser(dispatch, loginPayload) {\n  const ROOT_URL = `https://reqres.in/api/login`;\n  console.log(loginPayload);\n    try {\n      dispatch({ type: \"REQUEST_LOGIN\" });\n      //way2==============================\n      const requestOptions = {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(loginPayload),\n      };\n      let response = await fetch(`${ROOT_URL}`, requestOptions);\n      let data = await response.json();\n      console.log(data);\n     // ==============================\n      //模擬api 取得{token: 'QpwL5tke4Pnpja7X4'}後，有user資料\n      if (data.token) { \n          const logindata = { userno: \"000002\", dep: \"資訊技術部\", IsLogin: \"true\", loading: false }\n          dispatch({ type: \"LOGIN_SUCCESS\", payload: logindata });\n          localStorage.setItem(\"currentUser\", JSON.stringify(logindata));\n          return logindata;\n      } \n\n      dispatch({ type: \"LOGIN_ERROR\", error: data.error});\n      return;\n\n    } catch (error) {\n      dispatch({ type: \"LOGIN_ERROR\", error: error });\n    }\n\n}\n\nexport async function createUser(dispatch, loginPayload) {\n  // const ROOT_URL = `https://reqres.in/api/users`;\n  const ROOT_URL = `https://reqres.in/api/register`;\n  try {\n    dispatch({ type: \"REQUEST_CREATE\" });\n    console.log(loginPayload)\n    //way2==============================\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(loginPayload),\n    };\n    let response = await fetch(`${ROOT_URL}`, requestOptions);\n    let data = await response.json();\n    console.log(data)//\"id\": 4 \"token\": \"QpwL5tke4Pnpja7X4\"\n    // ==============================\n    if (data.id) {\n      const logindata = { userno: data.id, dep: \"行政管理處\", IsLogin: \"true\", loading: false }\n      dispatch({ type: \"CREATE_SUCCESS\", payload: logindata });\n      localStorage.setItem(\"currentUser\", JSON.stringify(logindata));\n      return logindata;\n    }\n\n    dispatch({ type: \"CREATE_ERROR\", error: data.error });\n    return;\n\n  } catch (error) {\n    dispatch({ type: \"CREATE_ERROR\", error: error });\n  }\n\n}\n\nexport async function logOut(dispatch) {\n  dispatch({ type: \"LOGOUT\" });\n  localStorage.removeItem(\"currentUser\");\n  localStorage.removeItem(\"token\");\n}\n","// AuthReducer 管理狀態及改變，根據(initialState, action)\n// 定義reducer(lState, action)\n// 參數state: 當前的initialState\n// 參數action: 子元素傳來的參數\n// 回傳值: 新的state的值。==>改變後的\n// login的狀態:userno IsLogin\n\n// define inital state,and return new state\nlet userno = localStorage.getItem(\"currentUser\")\n  ? JSON.parse(localStorage.getItem(\"currentUser\")).userno\n  : \"\";\n\nlet dep = localStorage.getItem(\"currentUser\")\n  ? JSON.parse(localStorage.getItem(\"currentUser\")).dep\n  : \"\";\n\nlet IsLogin = localStorage.getItem(\"currentUser\")\n  ? JSON.parse(localStorage.getItem(\"currentUser\")).IsLogin\n  : \"\";\n\n// let userno = localStorage.getItem(\"currentUser\") ? \"000002\" : \"\";\n// let IsLogin = localStorage.getItem(\"currentUser\") ? \"true\" : \"\";\n\nexport const initialState = {\n  userno: \"\" || userno,\n  IsLogin: false || IsLogin,\n  loading: false,\n  errorMessage: null,\n  dep: \"\" || dep,\n};\n\nexport const AuthReducer = (initialState, action) => {\n  // console.log(action.payload)\n  switch (action.type) {\n    case \"REQUEST_LOGIN\":\n      return {\n        ...initialState,\n        loading: true,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        ...initialState,\n        userno: action.payload.userno,\n        dep: action.payload.dep,\n        IsLogin: action.payload.IsLogin,\n        loading: false,\n      };\n    case \"LOGOUT\":\n      return {\n        ...initialState,\n        user: \"\",\n        IsLogin: false,\n      };\n    case \"LOGIN_ERROR\":\n      return {\n        ...initialState,\n        loading: false,\n        errorMessage: action.error,\n      };\n    \n    \n    \n    case \"REQUEST_CREATE\":\n      return {\n        ...initialState,\n        loading: true,\n      };\n    case \"CREATE_SUCCESS\":\n      return {\n        ...initialState,\n        userno: action.payload.userno,\n        dep: action.payload.dep,\n        IsLogin: true,\n        loading: true,\n      };\n    case \"CREATE_ERROR\":\n      return {\n        ...initialState,\n        loading: false,\n        errorMessage: action.error,\n      };\n    \n    \n    \n    \n    default:\n      throw new Error(`Unhandled action type: ${action.type}`);\n  }\n};\n","import React, { createContext, useContext, useReducer } from \"react\";\nimport { initialState, AuthReducer } from './reducer';\n\n// Context: 1、createContext，建立global state\n//          2、useContext     讀取context  \n// 建立Provider 包住想傳遞的子元件\n\n// 1' useAuthState : 判斷登入狀態的Context{ errorMessage, IsLogin } \n// 2' useAuthDispatch: \n// const dispatch = useAuthDispatch();\n// fetch api user資料 await loginUser(dispatch, formList)\n// 3' AuthProvider;\n\n// 1 useAuthState:登入狀態的Context\n//   userno: \"\" || userno,\n//   IsLogin: false || IsLogin,\n//   loading: false,\n//   errorMessage: null,\nconst AuthStateContext = createContext();\nexport function useAuthState() {\n  const context = useContext(AuthStateContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useAuthState must be used within a AuthStateContext Provider\");\n  }\n  return context;\n}\n\n//2 useAuthDispatch:login/logout\n//  使用方式 const dispatch = useAuthDispatch();\n//   const handleLogout = async () => {\n//   let response = await logOut(dispatch);\nconst AuthDispatchContext = createContext();\nexport function useAuthDispatch() {\n  const context = useContext(AuthDispatchContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useAuthDispatch must be used within a AuthDispatchContext Provider\"\n    );\n  }\n\n  return context;\n}\n\n//private router\n//使用Context的方法是使用<名稱.Provider value={state值}>\n//把你想要允許可以讀取這個context的子元素階層包起來 \n// AuthProvider 父元素使用context:用 AuthStateContext\n\n//最外一層：規劃login true 才能使用各routes\n//最外第二層：login true，才能使用各個dispatch\n\n//引入useReducer，取得state和dispatch。 useReducer(reducer函式, state的初始值);\nexport const AuthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, initialState);\n                    // AuthReducer = (initialState, action);\n  return (\n    <AuthStateContext.Provider value={state}>\n      <AuthDispatchContext.Provider value={dispatch}>\n        {children}\n      </AuthDispatchContext.Provider>\n    </AuthStateContext.Provider>\n  );\n};\n","import React, { useState, Fragment } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\n//globe state\nimport { loginUser, createUser, useAuthState, useAuthDispatch } from \"../../Context\";\n\nconst Login = () => {\n  let navigate = useNavigate();\n  const [show, setShow] = useState(false);\n  const setOn = () => {\n    setShow(!show);\n  };\n\n  // const newStyle = show ? \"display-block\" : \"display-none\";\n  const newStyle = show ? \"v_v\" : \"v_h\";\n\n  const cardStyle = {\n    height: show ? 0 : \"250px\",\n    opacity: show ? 0 : 1,\n    transition: \"all .5s ease-in\"\n  };\n\n  const cardStylea = {\n    opacity: show ? 1 : 0,\n    height: show ? \"250px\" : 0,\n    transition: \"all .5s ease-in\",\n  };\n\n  //globe state ex:loginUser(dispatch, formList);\n  const dispatch = useAuthDispatch();\n  const { errorMessage, IsLogin } = useAuthState();\n  // login err msg\n  const initalMsg = { messclass: \"alert alert-danger\", message: \" \" };\n\n  // login\n  const formInitial = { email: \"\", password: \"\" };\n  const [formList, setFormList] = useState(formInitial);\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormList({ ...formList, [name]: value });\n  };\n\n  const handleLogin = async (e) => {\n    console.log(\"handleLogin\");\n    e.preventDefault();\n    try {\n      const response = await loginUser(dispatch, formList);\n      console.log(response)\n      if (response == undefined) return;\n      if (!response.token) return;\n      // props.history.push(\"/about\");\n      navigate('/about')\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // register\n  const regformInitial = { remail: \"\", rpassword: \"\" };\n  const [regformList, setregFormList] = useState(regformInitial);\n  const handleresInputChange = (e) => {\n    const { name, value } = e.target;\n    // setregFormList({ ...regformList, [name]: value });\n    setregFormList({ ...regformList, [name]: value });\n  };\n\n  const handleRegister = async (e) => {\n    console.log(\"handleRegister\");\n    e.preventDefault();\n    try {\n      // const response = await createUser(dispatch, regformList);\n      const newregformList = { email: regformList.remail, password: regformList.rpassword };\n      const response = await createUser(dispatch, newregformList);\n      console.log(response)\n      if (response == undefined) return;\n      navigate('/prform')\n    } catch (error) {\n      console.log(error);\n    }\n\n  };\n\n  return (\n    <>\n      {IsLogin ? (\n        <Navigate to=\"/PrForm\" />\n        // <Navigate to=\"/Reiraapp/PrForm\" />\n      ) : (\n        <div className=\"login_form\">\n          <Fragment>\n              <div className=\"form\">\n                {/* REGISTER */}\n              <form\n                style={cardStylea}\n                className={\"flip-card register-form \" + newStyle}\n                id=\"myForm1\"\n              >\n                  <input\n                    type=\"text\"\n                    id=\"remail\"\n                    name=\"remail\"\n                    value={regformList.remail}\n                    onChange={handleresInputChange}\n                    placeholder=\"email\"\n                  />\n\n                  <input\n                    type=\"password\"\n                    id=\"rpassword\"\n                    name=\"rpassword\"\n                    value={regformList.rpassword}\n                    onChange={handleresInputChange}\n                    placeholder=\"password\"\n                  />\n \n\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary register_btn\"\n                  onClick={handleRegister}\n                >\n                  create\n                </button>\n\n                <p className=\"message\">\n                  Already registered?\n                  <a href=\"#\" onClick={setOn}>\n                    Sign In\n                  </a>\n                  </p>\n                  {errorMessage ? (\n                    <p className={initalMsg.messclass}>{errorMessage}</p>\n                  ) : null}\n              </form>\n\n                {/* LOGIN */}\n              <form style={cardStyle}>\n                  <input\n                    type=\"text\"\n                    id=\"email\"\n                    name=\"email\"\n                    placeholder=\"email\"\n                    value={formList.email}\n                    onChange={handleInputChange}\n                  />\n        \n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"password\"\n                    value={formList.password}\n                    onChange={handleInputChange}\n                  />\n\n                <button\n                  id=\"login_btn\"\n                  type=\"button\"\n                  className=\"btn btn-primary login_btn\"\n                  onClick={handleLogin}\n                >\n                  login\n                </button>\n\n                <p className=\"message\">\n                  Not registered?{\" \"}\n                  <a href=\"#\" onClick={setOn}>\n                    Create an account\n                  </a>\n                </p>\n\n    \n                {errorMessage ? (\n                  <p className={initalMsg.messclass}>{errorMessage}</p>\n                ) : null}\n              </form>\n            </div>\n          </Fragment>\n        </div>\n      )}\n    </>\n  );\n};\nexport default Login;\n","import React, { Component } from 'react'\n\nclass Media extends Component {\n  render () {\n    return (\n      <div className=\"media-wrap  about_tab\" id=\"about1\">\n        <h1>TESTA</h1>\n      </div>\n    );\n  }\n}\n\nexport default Media\n","import React, { Component } from 'react'\n\nclass Media extends Component {\n  render () {\n    return (\n      <div className='media-wrap about_tab' id='about2'>\n        <h1>TESTB</h1>\n      </div>\n    )\n  }\n}\n\nexport default Media\n","import React, { Component } from 'react'\n\nclass Media extends Component {\n  render () {\n    return (\n      <div className='media-wrap  about_tab'  id='about3'>\n         <h1>TEST C</h1>\n        {/* src='https://www.youtube.com/embed/_ZmTR-F4mC0?rel=0&controls=0&showinfo=0' */}\n      </div>\n    )\n  }\n}\n\nexport default Media\n","import React, { useState,useEffect } from 'react'\nimport Media from './Media'\nimport About2 from './About2'\nimport About3 from './About3'\nimport Singleton, { Recursive } from \"../../Singleton\";\nimport axios from \"axios\";\nimport './about.css'\n\nconst About = () => {\n  const today = new Date().toISOString().substring(0, 10);\n  const [queryLists, setQueryLists] = useState([])\n  let userNo  ='090605'\n\n  useEffect(() => {\n    const test = Recursive(\"221004\")\n    console.log(test)\n    const flowtest = test.map(item => item.name) \n    setQueryLists(flowtest);\n    // axios\n    //   .get(\"https://reqres.in/api/users?page=1\")\n    //   .then((res) => {\n    //     const resdata = res.data.data;\n    //     const flow = resdata.map(item => item.first_name)\n    //     console.log(flow)\n    //     setQueryLists(flow);\n    //   })\n    //   .catch((error) => {\n    //     console.error(error);\n    //   });\n    \n  }, [userNo]);\n  \n  const dataLists = queryLists.map((item, i) => (\n    <div className=\"flowchart\" key={i}>\n      <div className=\"flow_no\">\n        {item}\n        <span className=\"flowspan\"></span>\n      </div>\n      <div className=\"flow_approval\">\n        <p>{today}</p>\n        <p>approve</p>\n      </div>\n    </div>\n  ));\n\n  return (\n    <section className=\"container contact\">\n      <h1>About</h1>\n      {/* <div className=\"page-2\" id=\"page-about\">\n        <div className=\"container\"> */}\n          <nav>\n            <a href=\"#about1\">PAGE1</a>\n            <a href=\"#about2\">PAGE2</a>\n            <a href=\"#about3\">PAGE3</a>\n          </nav>\n\n          <Media />\n          <About2 />\n          <About3 />\n\n          <div className=\"flow_container\">\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                start\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n            {dataLists}\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                over\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n          </div>\n\n\n        {/* </div>\n      </div> */}\n    </section>\n  );\n}\n\nexport default About\n","import React, { useState, useEffect } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport singleton from \"../../Singleton\";\nimport axios from \"axios\";\n\n// flow item list\nconst Inbox = (props) => {\n  let location = useLocation();\n  console.log(location)\n\n\n  // console.log(prop.location.state);\n  const assignData = { item: {}, list: [], flow: [] };\n  const [flowData, setFlowData] = useState(assignData);\n  const [firstName, setFirstName] = useState(\"\");\n  const today = new Date().toISOString().substring(0, 10);\n\n  useEffect(() => {\n    //approve flow\n    const flow = [\"010101\", \"120303\", \"090605\"];\n\n    const item = {\n      clyn: \"Y\",\n      datatime: \"2022-08-05 12:34:48\",\n      id: \"00563\",\n      name: \"Reira\",\n      text1: \"2022-08-10\",\n      text2: \"0000000253\",\n      text3: \"\",\n      username: \"123123\",\n    };\n\n    const list = [\n      {\n        datatime: \"2022-08-05 12:34:48\",\n        id: \"1\",\n        listno: \"00563\",\n        name: \"0000000253\",\n        price: \"s\",\n        smallp: \"kyino\",\n        username: \"鍵盤\",\n      },\n      {\n        datatime: \"2022-08-05 12:34:48\",\n        id: \"2\",\n        listno: \"00563\",\n        name: \"0000000253\",\n        price: \"大\",\n        smallp: \"tesco\",\n        username: \"滑鼠\",\n      },\n    ];\n\n    // if (prop.location.state !== null) {\n    axios\n      .get(`https://reqres.in/api/users/2`)\n      .then((res) => {\n        console.log(res.data.data);\n        const data = res.data.data;\n        console.log(data);\n        setFlowData({\n          ...flowData,\n          item: item,\n          list: list,\n          flow: flow\n        });\n\n      })\n\n  }, [props]);\n\n  // 單身\n  const resultTable = flowData.list.map((item, index) => {\n    return (\n      <tr key={index}>\n        <th scope=\"row\">{index}</th>\n        <td>{item.name}</td>\n        <td>{item.username}</td>\n        <td>{item.price}</td>\n      </tr>\n    );\n  });\n\n  //簽核流程array\n  const dataLists = flowData.flow.map((item, i) => (\n    <div className=\"flowchart\" key={i}>\n      <div className=\"flow_no\">\n        {item}\n        <span className=\"flowspan\"></span>\n      </div>\n      <div className=\"flow_approval\">\n        <p>{today}</p>\n        <p>approve</p>\n      </div>\n    </div>\n  ));\n\n  //簽核同意\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    var data = { assing: firstName, listno:location.state.listno };\n    console.log(JSON.stringify(data));\n\n    var url = singleton.domainName + \"/sys_flow_approve.php\";\n    fetch(url, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"POST\", // or 'PUT'\n      body: JSON.stringify(data), // data can be `string` or {object}!\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((error) => console.error(\"Error:\", error));\n  };\n\n  return (\n    <>\n      {/* {location.state === undefined || location.state === null ?\n        (\n      <section className=\"container contact\">\n          <h1>沒有資料</h1>\n        </section>\n      ) : (   */}\n      <section className=\"container contact\">\n        <h1>收件匣{flowData.item[\"id\"]}</h1>\n        <div className=\"sign\">\n          <div className=\"sign_menu\">\n            <li onClick={handleSubmit}>\n              <a>Approved</a>\n            </li>\n\n            <li>\n              <a>Rejected</a>\n            </li>\n\n            <li>\n              <a>overdue</a>\n            </li>\n          </div>\n\n          <div className=\"sign_option\">\n            <label className=\"user2\">\n              {/* <div className=\"cs\"><i className=\"fas fa-check\"></i></div> */}\n              <div className=\"cs\">單號</div>\n\n              <input\n                type=\"text\" placeholder=\"Subject\"\n                defaultValue={flowData.item[\"text2\"]}\n                name=\"userps\" id=\"userps\"\n                readOnly\n              />\n\n            </label>\n\n            <label className=\"user2\">\n              <div className=\"cs\"><span>簽核意見</span></div>\n              <input type=\"text\" name=\"firstName\" placeholder=\"簽核意見\"\n                onChange={(e) => {\n                  setFirstName(e.target.value);\n                  console.log(e.target.value);\n                }} />\n            </label>\n          </div>\n        </div>\n        <div className=\"flex_form\">\n          <div className=\"flex-large\">\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">員工姓名</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"name\"]}\n                  readOnly\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">員工部門</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"username\"]}\n                  readOnly\n                />\n              </div>\n            </div>\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">需用時間</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"text1\"]}\n                  readOnly\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">請購單號</label>\n                <input\n                  type=\"text\"\n                  defaultValue={flowData.item[\"text2\"]}\n                  readOnly\n                />\n              </div>\n            </div>\n \n          </div>\n        </div>\n\n\n\n\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">-</th>\n              <th scope=\"col\">no</th>\n              <th scope=\"col\">描述</th>\n              <th scope=\"col\">尺寸</th>\n            </tr>\n          </thead>\n          <tbody>{resultTable}</tbody>\n        </table>\n\n        <div className=\"container\">\n          <h3>簽核流程</h3>\n          <div className=\"flow_container\">\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                start\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n            {dataLists}\n            <div className=\"flowchart\">\n              <div className=\"flow_no\">\n                over\n                <span className=\"flowspan\"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n\n\n      </section>\n      {/* )}   */}\n    </>\n  );\n};\n\nexport default Inbox;\n","import React, { useState, useEffect } from \"react\";\n\nconst EditUserForm = (props) => {\n  const [user, setUser] = useState(props.currentUser);\n  useEffect(() => {\n    setUser(props.currentUser);\n  }, [props]);\n  // You can tell React to skip applying an effect if certain values haven’t changed between re-renders. [ props ]\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUser({ ...user, [name]: value });\n    console.log(user);\n  };\n\n  const handleUpdate = () => {\n    console.log(\"handleUpdate\");\n    props.updateUser(user.id, user);\n  };\n\n  return (\n    <>\n      <h3>Editform</h3>\n      <label>Name</label>\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={user.name}\n        onChange={handleInputChange}\n      />\n      <label>Username</label>\n      <input\n        type=\"text\"\n        name=\"username\"\n        value={user.username}\n        onChange={handleInputChange}\n      />\n      <label>smallp</label>\n      <input\n        type=\"text\"\n        name=\"smallp\"\n        value={user.smallp}\n        onChange={handleInputChange}\n      />\n      <button className=\"btn\" onClick={handleUpdate}>\n        Update user\n      </button>\n      {/* <button onClick={() => props.SetShow(false)}>close3</button>\n            <button className=\"btn\" onClick={() => props.isOpen(false)} >Cancel</button> */}\n    </>\n  );\n};\n\nexport default EditUserForm;\n","import React from 'react';\n// 請購單身\nconst ListTable = (props) => {\n  console.log(props);\n  return (\n    <table className=\"table table-striped table-responsive-m\">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Username</th>\n          <th>Usersmallp</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {/* {Object.keys(user).map((key, index) => { */}\n        {props.users.length > 0 ? (\n          props.users.map((user) => (\n            <tr key={user.id}>\n              <td>{user.name}</td>\n              <td>{user.username}</td>\n              <td>{user.smallp}</td>\n              <td>\n                <button\n                  className=\"btn btn-info\"\n                  onClick={(evt) => {\n                    evt.preventDefault();\n                    props.editRow(user);\n                    props.isOpen(user);\n                  }}\n                >\n                  Edit\n                </button>\n\n                <button\n                  className=\"btn btn-danger\"\n                  onClick={() => props.deleteUser(user.id)}\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={5}>No users</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListTable;\n ","import React, { useRef } from \"react\";\n\nconst OpenModal = (props) => {\n  let ref = useRef(null);\n  \n  const handleClickOutsides = (event) => {\n    console.log(event)\n    if (ref.current && !ref.current.contains(event.target)) {\n      props.onClickOutside();\n    }\n  };\n\n  const showHideClassName = props.show\n    ? \"modal-modal\"\n    : \"modal-modal display-none\";\n  \n  return (\n    <div className={showHideClassName} onClick={handleClickOutsides}>\n      <section className=\"flex-crud\" ref={ref}>\n        {props.children}\n        <button className=\"btn btn-danger\" onClick={props.handleClose}>Close</button>\n\n        {/* <button onClick={props.handleClose}>Cancel</button> */}\n      </section>\n    </div>\n  );\n};\n\n\nexport default OpenModal;","import React, { useState, useEffect } from \"react\";\nimport { useTable, useRowSelect } from \"react-table\";\nimport axios from \"axios\";\n\nconst IndeterminateCheckbox = React.forwardRef(\n  ({ indeterminate, ...rest }, ref) => {\n    const defaultRef = React.useRef()\n    const resolvedRef = ref || defaultRef\n\n    React.useEffect(() => {\n      resolvedRef.current.indeterminate = indeterminate\n    }, [resolvedRef, indeterminate])\n    return (\n      <>\n        {/* <input type=\"checkbox\" ref={resolvedRef} {...rest} value={checked} onChange={handleChange} /> */}\n        <input type=\"checkbox\" ref={resolvedRef} {...rest}   />\n      </>\n    )\n  }\n)\n\n// function Table({ columns, data, onRowSelectStateChange, onRowClickFunc, checked, handleChange }) {\nfunction Table({ columns, data, onRowSelectStateChange, onRowClickFunc  }) {  \n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    selectedFlatRows,\n    state: { selectedRowIds },\n  } = useTable(\n    {\n      columns,\n      data,\n      initialState: {\n        selectedRowIds: {\n          \"3\":true\n        }\n      },\n      stateReducer: (newState, action) => {\n        console.log(action.id);\n\n        if (action.type === \"toggleRowSelected\") {\n          newState.selectedRowIds = {\n            [action.id]: true\n          }\n        }\n        console.log(newState)\n        return newState;\n      },\n    },\n    useRowSelect,\n    hooks => {\n      hooks.visibleColumns.push(columns => [\n        // Let's make a column for selection\n        {\n          id: 'selection',\n          // The header can use the table's getToggleAllRowsSelectedProps method\n          // to render a checkbox\n          Header: ({ getToggleAllRowsSelectedProps }) => (\n            <div>\n              {/* <IndeterminateCheckbox {...getToggleAllRowsSelectedProps()} /> */}\n              <IndeterminateCheckbox />\n            </div>\n          ),\n          Cell: ({ row }) => (\n            <div>\n              <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} />\n            </div>\n          ),\n        },\n        ...columns,\n      ])\n    }\n  )\n\n  // Row-select state change\n  useEffect(() => {\n     onRowSelectStateChange(selectedRowIds) \n\n    console.log(selectedRowIds)\n    console.log(selectedFlatRows.map((row) => row.original))\n    const all = selectedFlatRows.map((row) => row)\n\n    console.log(all)\n    // onRowClickFunc(all, all.cell)\n    console.log(selectedFlatRows)\n   }\n  ,\n    [onRowSelectStateChange,selectedRowIds]);\n\n \n  // useEffect(() => onRowSelectStateChange(selectedFlatRows.map((row) => row.original))\n  //   , [onRowSelectStateChange, selectedFlatRows]);\n \n  return (\n    <>\n      <table {...getTableProps()}>\n        <thead>\n          {headerGroups.map(headerGroup => (\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map(column => (\n                <th {...column.getHeaderProps()}>{column.render('Header')}</th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {rows.slice(0, 10).map((row, i) => {\n            prepareRow(row)\n            return (\n              <tr {...row.getRowProps()} >\n                 {/* onClick={handleRowClick(row)}>     */}\n                \n                {row.cells.map(cell => {\n                  // return <td onClick={() => console.info(row.values.id, cell.value)} {...cell.getCellProps()}>{cell.render('Cell')}</td>\n                  return <td onClick={() => onRowClickFunc(row,cell)} {...cell.getCellProps()}>{cell.render('Cell')}</td>\n\n                  // return <td   {...cell.getCellProps()}>{cell.render('Cell')}</td>\n                })}\n \n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      {/* <p>Selected Rows: {Object.keys(selectedRowIds).length}</p>\n      <pre>\n        <code>\n          {JSON.stringify(\n            {\n              selectedRowIds: selectedRowIds,\n              'selectedFlatRows[].original': selectedFlatRows.map(\n                d => d.original\n              ),\n            },\n            null,\n            2\n          )}\n        </code>\n      </pre> */}\n    </>\n  )\n}\n\nfunction OrderNo_check(props) {\n  const [checked, setChecked] = React.useState(false);\n\n  const [selectedRowIds, setSelectedRowIds] = React.useState({});\n  // console.log('selectedRowIds', selectedRowIds)\n\n  const [modal, setModal] = useState(false);\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'Name',\n        columns: [\n          {\n            Header: 'First Name',\n            accessor: 'first_name',\n          },\n          {\n            Header: 'Last Name',\n            accessor: 'last_name',\n          },\n        ],\n      },\n      {\n        Header: 'Info',\n        columns: [\n          {\n            Header: 'id',\n            accessor: 'id',\n          }\n        ],\n      },\n    ],\n    []\n  )\n\n  const setOn = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setModal(!modal);\n  };\n\n  const [clickRowid, setClickRowid] = React.useState({});\n\n  function checkRow(row, cell) {\n    console.log(row)\n    console.log(cell)\n    // console.log(row.values.id)\n    // console.log(cell.row.original)\n    setClickRowid(row.values.id)\n\n    setChecked(!checked);  \n\n  }\n\n \n\n\n  const checkButton = (e) => {\n    e.preventDefault();\n    console.log(clickRowid)\n    console.log(selectedRowIds)\n    selectedRowIds ? props.value(clickRowid || selectedRowIds) : props.value(\"\");\n    setModal(!modal);\n  };\n\n  \n\n  // const data = React.useMemo(() => makeData(10, 3), []);\n  const [data, setData] = useState([]);\n  const getData = async () => {\n    const { data } = await axios.get(`https://reqres.in/api/users?page=2`);\n    const resdata = data.data;\n    var search = ['first_name', 'last_name', 'id'];\n    let newdata = [];\n    for (var i = 0; i < resdata.length; i++) {\n      var filters = Object.keys(resdata[i])\n        .filter(key => search.includes(key))\n        .reduce((obj, key) => {\n          obj[key] = resdata[i][key];\n          return obj;\n        }, {});\n      newdata.push(filters)\n    }\n    console.log(newdata)\n    setData(newdata)\n    console.log(newdata)\n\n  };\n\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <>\n      <button className=\"btn btn-outline-secondary btn_line\" onClick={setOn}>\n        請購單號\n      </button>\n      {modal ? (\n        <div className=\"modal-modal\" onClick={setOn}>\n          <div\n            className=\"popup_inner\"\n            onClick={(event) => event.stopPropagation()}\n          >\n            <div className=\"orderno\">\n              <Table\n                columns={columns}\n                data={data}\n                onRowSelectStateChange={setSelectedRowIds}\n                onRowClickFunc={checkRow}\n              />\n            </div>\n            <button className=\"btn btn-light\" onClick={setOn}>\n              close\n            </button>\n            <button className=\"btn btn-primary\" onClick={checkButton}>\n              確定\n            </button>\n          </div>\n        </div>\n      ) : null\n      }\n    </>\n\n  );\n}\n\nexport default OrderNo_check;\n","import React, { useState, useEffect } from \"react\";\nimport { useAuthState } from \"../Context\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport EditUserForm from \"./forms/EditUserForm\";\nimport ListTable from \"./tables/ListTable\";\nimport OpenModal from \"./tools/OpenModal\";\nimport OrderNo_check from \"./tools/OrderNo_check\";\n\nimport singleton, { Recursive } from \"../Singleton\";\nimport axios from \"axios\";\n\n// 無法新增資料，依請購單進行採購\n// confirm dialog\n//https://www.taniarascia.com/crud-app-in-react-with-hooks/\n\nconst PoForm = () => {\n  const test = Recursive(\"221004\")\n  console.log(test)\n  \n  let location = useLocation();\n  let navigate = useNavigate();\n\n  const [show, SetShow] = useState(false);\n  //  console.log(props);\n  // global state:userno\n  const { userno, dep } = useAuthState();\n  console.log(userno)\n  console.log(dep)\n  let today = new Date().toISOString().substring(0, 10);\n  const initialFormHeadState = {\n    username: userno,\n    userdep: dep,\n    userdate: today,\n    checkno: \"no\",\n  };\n  const [listHead, setListHead] = useState(initialFormHeadState);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setListHead({ ...listHead, [name]: value });\n    // let changeName = event.target.name\n    // this.setState({ [changeName]: event.target.value })\n    // 綁定的state值剛好對應到每個組件的name屬性，所以才可以直接抓組件name的屬性來更改state中的資料，\n    // 至於加上中括號是為了讓JavaScript知道那是變數，而不會把它當成changeName來處理\n  };\n\n  const [checkNo, setCheckNo] = useState(\"\");\n  const orderNo = (name) => {\n    console.log(name);\n    setCheckNo(name);\n    setListHead({ ...listHead, checkno: name });\n  };\n  // ---------------------\n  const [openBox, setOpenBox] = useState(false);\n\n  const handOpen = (event) => {\n    console.log(event);\n    setOpenBox(!openBox);\n    console.log(\"openBox\" + openBox);\n  };\n  // ---------------------\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState([]);\n  const [editing, setEditing] = useState(false);\n\n  const deleteUser = (id) => {\n    setEditing(false);\n    setUsers(users.filter((user) => user.id !== id));\n  };\n\n  const updateUser = (id, updatedUser) => {\n    setEditing(false);\n    setUsers(users.map((user) => (user.id === id ? updatedUser : user)));\n    // close modal\n    handOpen(false);\n  };\n\n  const editRow = (user) => {\n    setEditing(true);\n    setCurrentUser({\n      listno: user.listno,\n      id: user.id,\n      name: user.name,\n      username: user.username,\n      smallp: user.smallp,\n      datatime: user.datatime,\n    });\n  };\n\n  // const canceluser = () => {\n  //   console.log('canceluser');\n  //   setEditing(false);\n  //   handOpen(false);\n  // };\n  // ---------------------\n  useEffect(() => {\n    if (!checkNo) return;\n    //********* create *********\n    axios\n      .get(\"https://reqres.in/api/users?page=1\")\n      .then((res) => {\n        console.log(res.data.data);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n\n    axios\n      .get(`https://reqres.in/api/users/${checkNo}`)\n      .then((res) => {\n        const data = res.data.data;\n        console.log(data);\n        var newstr = [];\n        const data1 = {\n          listno: data.fils,\n          id: `${checkNo}`,\n          name: data.first_name,\n          username: data.last_name,\n          smallp: data.avatar,\n        };\n        newstr.push(data1);\n        console.log(newstr);\n        setUsers(newstr);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n\n    // fetch(singleton.domainName + `/order_query.php?id=00${checkNo}`)\n    //   .then((response) => response.json())\n    //   .then((data) => {\n    //     console.log(data);\n    //     var search = [\"listno\", \"id\", \"name\", \"username\", \"smallp\"];\n    //     var newstr = [];\n    //     for (var i = 0; i < data.length; i++) {\n    //       var filters = Object.keys(data[i])\n    //         .filter((key) => search.includes(key))\n    //         .reduce((obj, key) => {\n    //           obj[key] = data[i][key];\n    //           return obj;\n    //         }, {});\n    //       console.log(filters);\n    //       newstr.push(filters);\n    //     }\n    //     console.log(newstr);\n\n    //     var newIndex = Object.keys(data[0]);\n    //     var aa = newIndex.filter((item) => {\n    //       return item != \"datatime\" && item != \"price\";\n    //     });\n\n    //     console.log(aa);\n    //     setUsers(newstr);\n    //   })\n    //   .catch((err) => {\n    //     console.log(\"錯誤:\", err);\n    //   });\n  }, [checkNo]);\n\n  const [formtype, setFormType] = useState(\"\");\n  const [redirect, setRedirect] = useState({\n    redirect: false,\n    pathname: \"\",\n    state: \"\",\n  });\n\n  //  submit form\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!users.length) {\n      alert(\"請選單\");\n      return;\n    }\n\n    const data = {\n      name: \"morpheus\",\n      job: \"leader\",\n    };\n    fetch(\"https://reqres.in/api/users\", {\n      method: \"POST\", // or 'PUT'\n      body: JSON.stringify(data), // data can be `string` or {object}!\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        // console.log(\"Success:\", JSON.stringify(response));\n        console.log(response);\n        if (response.createdAt) {\n          alert(\"post成功\");\n          setFormType(\"sucess\");\n\n         \n          // 送出成功後，轉到Inbox\n          // setRedirect({\n          //   redirect: true,\n          //   pathname: \"/Inbox\",\n          //   state: { id: \"090605\", listno: \"00004\" },\n          // });\n          //傳遞parat\n          navigate('/Inbox', { state: { id: \"090605\", listno: \"00004\" } })\n\n\n        }\n        // if (response.success) {\n        //   alert(\"post成功\");\n        //   setFormType(\"sucess\");\n        //   // 送出成功後，轉到Inbox\n        //   setRedirect({\n        //     redirect: true,\n        //     pathname: \"/Inbox\",\n        //     state: { id: \"090605\", listno: \"00\" + response.listno },\n        //   });\n        // }\n      })\n      .catch((error) => console.error(\"Error:\", error));\n\n    //   let url = singleton.domainName + \"/form_post_poform.php\";\n    //   let data = {\n    //     header: listHead,\n    //     header_detail: users,\n    //   };\n\n    //   fetch(url, {\n    //     method: \"POST\", // or 'PUT'\n    //     body: JSON.stringify(data), // data can be `string` or {object}!\n    //     headers: {\n    //       \"Content-Type\": \"application/json\",\n    //     },\n    //   })\n    //     .then((res) => res.json())\n    //     .then((response) => {\n    //       console.log(\"Success:\", JSON.stringify(response));\n    //       console.log(response);\n    //       if (response.success) {\n    //         alert(\"post成功\");\n    //         setFormType(\"sucess\");\n    //         // 送出成功後，轉到Inbox\n    //         setRedirect({\n    //           redirect: true,\n    //           pathname: \"/Inbox\",\n    //           state: { id: \"090605\", listno: \"00\" + response.listno },\n    //         });\n    //       }\n    //     })\n    //     .catch((error) => console.error(\"Error:\", error));\n  };\n//如果true 送單 就轉到inbox\n  // if (redirect.redirect) {\n  //   console.log(redirect.state)\n  //   return (\n  //     //   <Navigate\n  //     //     to={{\n  //     //     pathname: redirect.pathname,\n  //     //     state: redirect.state,\n  //     //   }}\n  //     // />\n  //     navigate('/Inbox', { state: redirect.state })\n  //   );\n  // }\n\n  return (\n    <section className=\"container contact\">\n      <h1>PO採購單</h1>\n      <div className=\"flex_form\">\n        <form id=\"myForm\" onSubmit={handleSubmit}>\n          <div className=\"flex-large\">\n            <h2 className=\"header_line\">header</h2>\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">員工姓名</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"inputUsername\"\n                  name=\"username\"\n                  value={listHead.username}\n                  onChange={handleInputChange}\n                  placeholder=\"員工姓名\"\n                  autoFocus={true}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUserdep\">員工部門</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"inputUserdep\"\n                  name=\"userdep\"\n                  value={listHead.userdep}\n                  onChange={handleInputChange}\n                  placeholder=\"員工部門\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsertime\">需用時間</label>\n                <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  id=\"inputUsertime\"\n                  name=\"userdate\"\n                  value={listHead.userdate}\n                  onChange={handleInputChange}\n                />\n              </div>\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"selectListno\">請購單號</label>\n                <div className=\"input-group \">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"selectListno\"\n                    aria-label=\"Large\"\n                    aria-describedby=\"inputGroup-sizing-sm\"\n                    placeholder=\"請購單號\"\n                    name=\"checkno\"\n                    value={listHead.checkno}\n                    onChange={handleInputChange}\n                    readOnly\n                  />\n\n                \n                  <div className=\"input-group-append\">\n                    <OrderNo_check value={orderNo} />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n          <div className=\"flex-list\">\n            <OpenModal\n              show={show}\n              handleClose={() => {\n                SetShow(false);\n              }}\n              onClickOutside={() => {\n                SetShow(false);\n              }}\n            />\n\n            <h2>View users List</h2>\n            <ListTable\n              isOpen={handOpen}\n              users={users}\n              editRow={editRow}\n              deleteUser={deleteUser}\n            />\n          </div>\n\n          <button className=\"btn btn-primary\" type=\"submit\">\n            submit\n          </button>\n        </form>\n\n        {openBox ? (\n          <div className=\"modal-modal\">\n            <div className=\"flex-crud\">\n              {editing ? (\n                <>\n                  <EditUserForm\n                    editing={editing}\n                    setEditing={setEditing}\n                    currentUser={currentUser}\n                    updateUser={updateUser}\n                    isOpen={handOpen}\n                  />\n                </>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </section>\n  );\n};\n\nexport default PoForm;\n","import React, { useState,useEffect, Fragment } from \"react\";\n// https://itnext.io/how-to-build-a-dynamic-controlled-form-with-react-hooks-2019-b39840f75c4f\nconst AddUserForm = (props) => {\n  const initialFormState = { id: null, name: \"\", username: \"\", smallp: \"\" };\n  const [user, setUser] = useState(initialFormState);\n\n  const handleInputChange = (e) => {\n    const formDataCopy = { ...user };\n    formDataCopy[e.target.name] = e.target.value;\n    setUser(formDataCopy);\n  };\n\n  const onKeyDown = (e) =>{\n    if (e.key === \"Enter\") {\n      console.log(\"ENTER PRESSED\");\n      addNew();\n    }\n  }\n\n  document.addEventListener(\"keydown\", onKeyDown); \n\n  const addNew = () => {\n    if (!user.name || !user.username) return;\n    props.addUser(user);\n    console.log(user);\n    const ary = Object.keys(user).map((key, index) => {\n      if (!(key == \"id\")) console.log(key + index + user[key]);\n    })\n    console.log(ary)\n    setUser(initialFormState);\n  };\n\n  return (\n    <>\n      {Object.keys(user).map((key) => {\n        if (!(key == \"id\"))\n          return (\n            <Fragment key={key}>\n              <label htmlFor={key}>{key}</label>\n              <input\n                type=\"text\"\n                name={key}\n                value={user[key]}\n                onChange={handleInputChange}\n              />\n            </Fragment>\n          );\n      })\n      }   \n\n      <button className=\"btn\" onClick={addNew}>\n        Add new user\n      </button>\n      {/* <button onClick={() => props.SetShow(false)}>Cancel</button> */}\n    </>\n  );\n};\n\nexport default AddUserForm;\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuthState } from \"../Context\";\nimport AddUserForm from \"./forms/AddUserForms\";\nimport EditUserForm from \"./forms/EditUserForm\";\nimport ListTable from \"./tables/ListTable\";\nimport OpenModal from \"./tools/OpenModal\";\nimport singleton from \"../Singleton\";\nimport axios from \"axios\";\n// // confirm dialog\n// https://www.taniarascia.com/crud-app-in-react-with-hook //\n\nconst PrForm = (props) => {\n  let navigate = useNavigate();\n  // global state:userno\n  const { userno, dep } = useAuthState();\n  \n  let today = new Date().toISOString().substring(0, 10);\n  const initialFormState = { username: userno, userdep: dep, userdate: today };\n  const [listHead, setListHead] = useState(initialFormState);\n\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState([]);\n  const [editing, setEditing] = useState(false);\n  const [openBox, setOpenBox] = useState(false);\n  const [show, SetShow] = useState(false);\n  const [formNames, setFormNames] = useState(\"add\");\n\n  const handOpen = () => {\n    setOpenBox(!openBox);\n    SetShow(true);\n  };\n\n  const showModa = () => {\n    SetShow(!show);\n    setFormNames(\"add\");\n  };\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setListHead({ ...listHead, [name]: value });\n  };\n\n  // CRUD operations\n  const addUser = (user) => {\n    console.log(users);\n    //一開始 新增資料\n    if (users.length == 0) {\n      user.id = users.length + 1;\n    } else {\n      let maxid = users.slice(-1)[0].id;\n      user.id = maxid + 1;\n    }\n\n    // user.id = users.length + 1;\n    setUsers([...users, user]);\n  };\n\n  const deleteUser = (id) => {\n    setEditing(false);\n    setUsers(users.filter((user) => user.id !== id));\n  };\n\n  const updateUser = (id, updatedUser) => {\n    setEditing(false);\n    setFormNames(\"edit\");\n    setUsers(users.map((user) => (user.id === id ? updatedUser : user)));\n\n    showModa();\n  };\n\n  const editRow = (user) => {\n    setEditing(true);\n    setFormNames(\"edit\");\n    setCurrentUser({\n      id: user.id,\n      name: user.name,\n      username: user.username,\n      smallp: user.smallp,\n      datatime: user.datatime,\n    });\n  };\n\n  async function makeGetRequest() {\n    let payload = {\n      heads: listHead,\n      bodys: users,\n    };\n\n    console.log(payload);\n    //********* create *********\n    // axios\n    //   .post(\"/customer\", payload)\n    //   .then((res) => {\n    //     console.table(res.data);\n    //   })\n    //   .catch((error) => {\n    //     console.error(error);\n    //   });\n    // ********* DELETE *********\n    // let delno = \"19\";\n    // axios.delete(`/customers/${delno}`).then((res) => console.log(res.data));\n  }\n\n  //  submit form\n  const handleSubmit = (evt) => {\n    // makeGetRequest();\n    evt.preventDefault();\n    if (!users.length) {\n      alert(\"請選單\");\n      return;\n    }\n\n\n    console.log(JSON.stringify(listHead));\n    let data = {\n      header: listHead,\n      header_detail: users,\n    };\n    console.log(JSON.stringify(data));\n    //-----------------------------------------\n    // fetch(singleton.domainName + \"/form_post_prform.php\", {\n    //   method: \"POST\", // or 'PUT'\n    //   body: JSON.stringify(data),\n    //   headers: {\n    //     Accept: \"application/json\",\n    //     \"Content-Type\": \"application/x-www-form-urlencoded; charset=utf-8\",\n    //   },\n    // })\n    //   .then((res) => res.json())\n    //   .then((response) => {\n    //     console.log(\"Success:\", JSON.stringify(response));\n    //     if ((response = \"sucess\")) {\n    //       console.log(\"遞迴\");\n    //       props.history.push(\"/poform\");\n    //     }\n    //   })\n    //   .catch((error) => console.error(\"Error:\", error));\n    const fakedata = {\"name\": \"morpheus\",\"job\": \"leader\"}\n      \n      axios .post(\"https://reqres.in/api/users\", data)\n      .then((res) => {\n        const ressponse = res.data;\n        console.log(ressponse)\n        if (ressponse.createdAt ) {\n          alert(\"SUCCESS\")\n          navigate('/poform')\n          // props.history.push(\"/poform\");\n        }\n        // createdAt: \"2022-08-24T08:06:44.929Z\"\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n\n    \n    \n  };\n\n  return (\n    <section className=\"container contact\">\n      <h1>PR請購單</h1>\n      <div className=\"flex_form\">\n        <form id=\"myForm\">\n          <div className=\"flex-large\">\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsername\">員工姓名</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"inputUsername\"\n                  name=\"username\"\n                  value={listHead.username}\n                  // value={userDetails.userno}\n                  onChange={handleInputChange}\n                  placeholder=\"員工姓名\"\n                  autoFocus={true}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUserdep\">員工部門</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"inputUserdep\"\n                  name=\"userdep\"\n                  value={listHead.userdep}\n                  onChange={handleInputChange}\n                  placeholder=\"員工部門\"\n                  required\n                />\n              </div>\n            </div>\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-6\">\n                <label htmlFor=\"inputUsertime\">需用時間</label>\n                <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  id=\"inputUsertime\"\n                  name=\"userdate\"\n                  value={listHead.userdate}\n                  onChange={handleInputChange}\n                />\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <div className=\"flex-list\">\n          <OpenModal\n            show={show}\n            handleClose={() => {\n              SetShow(false);\n            }}\n            onClickOutside={() => {\n              SetShow(false);\n            }}\n          >\n            {formNames === \"add\" ? (\n              <AddUserForm addUser={addUser} SetShow={SetShow} />\n            ) : formNames === \"edit\" ? (\n              <EditUserForm\n                editing={editing}\n                setEditing={setEditing}\n                currentUser={currentUser}\n                updateUser={updateUser}\n                SetShow={SetShow}\n              />\n            ) : null}\n          </OpenModal>\n\n          <button className=\"btn btn-light\" type=\"button\" onClick={showModa}>\n            +請購項目\n          </button>\n\n          <ListTable\n            isOpen={handOpen}\n            users={users}\n            editRow={editRow}\n            deleteUser={deleteUser}\n          />\n        </div>\n        <button className=\"btn btn-primary\" onClick={handleSubmit}>\n          submit\n        </button>\n      </div>\n    </section>\n  );\n};\n\nexport default PrForm;\n","import React from \"react\";\n// import { Route, Redirect } from \"react-router-dom\";\nimport { Route, Navigate, Outlet } from \"react-router-dom\";\nimport { useAuthState } from \"./Context\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const userDetails = useAuthState();\n  // console.log(userDetails.IsLogin);\n  // console.log(userDetails);\n  // console.log({ ...rest });\n\n  return userDetails.IsLogin ? <Outlet /> : <Navigate to=\"/login\" />\n\n  // return (\n  //   <Route\n  //     {...rest}\n  //     render={(routeProps) => {\n  //       return userDetails.IsLogin ? (\n  //         <Component {...routeProps} />\n  //       ) : (\n  //           <Navigate to=\"/login\" />\n  //       );\n  //     }}\n  //   />\n  // );\n\n\n};\n\nexport default PrivateRoute;\n","import { useEffect } from \"react\";\n\nconst useOutsideClick = (ref, callback) => {\n  const handleClick = e => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClick);\n\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  });\n};\n\nexport default useOutsideClick;","import React, { useState, useEffect, useRef }  from \"react\";\nimport { NavLink,  useLocation } from \"react-router-dom\";\nimport { logOut, useAuthDispatch } from \"./Context\";\nimport useOutsideClick from \"./Components/tools/useOutsideClick\";\n\nconst Navbar = (props) => {\n  const [show, setShow] = useState(false);\n  const ref = useRef();\n\n  const handleClickOutsides = (event) => {\n    setShow(!show);\n    console.log(ref.current)\n    if (ref.current && !ref.current.contains(event.target)) {\n      setShow(false);\n    }\n  };\n\n  useOutsideClick(ref, () => {\n    setShow(false);\n  });\n\n\n  const location = useLocation();\n  console.log(location.pathname);\n  // logout\n  const dispatch = useAuthDispatch();\n  const newStyle = show ? \"active\" : \"\";\n\n  const handleLogout = async () => {\n    try {\n      let response = await logOut(dispatch);\n      console.log(response);\n      props.history.push(\"/login\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return location.pathname !== \"/login\" ? (\n    <header>\n      <ul className=\"mobile-navlink\" >\n        <div className={\"menu \" + newStyle}\n          onClick={handleClickOutsides} ref={ref}\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </ul>\n\n      <nav className={\"main-menu \" + newStyle}>\n        <ul>\n        <li>\n          <NavLink to=\"/prform\">PrForm</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/poform\">PoForm</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/about\">About</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/inbox\">Inbox</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/about\">Outbox</NavLink>\n        </li>\n\n        <li>\n          <a onClick={handleLogout}>logout</a>\n        </li>\n      </ul>\n      </nav>\n    </header>\n  ) : null;\n};\n\nexport default Navbar;\n","import React from \"react\";\n\nconst PageNotFound = (props) =>{\n  return (\n    <div>\n      <h1>Page not found</h1>\n    </div>\n  );\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport { Routes, Route, BrowserRouter, HashRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style/index.scss';\n\nimport Login from './Components/main/Login';\nimport About from './Components/about/About';\nimport Inbox from './Components/mailbox/Inbox';\nimport PoForm from './Components/PoForm';\nimport PrForm from './Components/PrForm';\nimport PrivateRoute from './PrivateRoute';\nimport { AuthProvider } from './Context';\n\nimport Navbar from './Navbar';\nimport PageNotFound from './Components/PageNotFound';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"page\">\n        <BrowserRouter basename=\"Mysystem\">\n        {/* <BrowserRouter> */}\n          <AuthProvider>\n            <Navbar />\n            <Routes>  \n              <Route/>\n                <Route path=\"/login\" element={<Login />} />\n                <Route  path='/' element={<PrivateRoute />}> \n                <Route path=\"/prform\" element={<PrForm />} />\n                <Route path=\"/poform\" element={<PoForm />} /> \n                <Route path=\"/about\" element={<About />} />\n                <Route path=\"/inbox\" element={<Inbox />} />\n                <Route path=\"*\" element={<PageNotFound />} />\n              </Route>\n            </Routes>\n          </AuthProvider>\n        </BrowserRouter> \n      </div>\n    </div>\n  );\n};\n\nexport default App;\n\n//login should not be autoprovider\n\n// Switch：用來包Route與Redirect，\n// 只會render第一個與網址匹配的<Route>的component","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App' \n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}